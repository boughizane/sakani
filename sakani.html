
<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
<title>Sakani Ø³ÙƒÙ†ÙŠ â€“ Student Housing</title>
<link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;600;700;800;900&family=DM+Sans:wght@400;500;600&family=Cairo:wght@400;600;700;800&display=swap" rel="stylesheet">
<style>
/* â”€â”€ RESET â”€â”€ */
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
img{max-width:100%;display:block}
button{cursor:pointer;font-family:inherit}
a{text-decoration:none;color:inherit}

/* â”€â”€ CSS VARS (dark default) â”€â”€ */
:root{
  --bg:#0B1426;--bg2:#131D35;--card:#161F38;--card-hov:#1C2844;
  --text:#E8EDF8;--muted:#8896B3;--border:rgba(255,255,255,0.08);
  --glass:rgba(255,255,255,0.04);--input-bg:rgba(255,255,255,0.05);
  --nav-bg:rgba(11,20,38,0.92);
  --accent:#00D4AA;--accent2:#009EFF;
  --amber:#F5A623;--coral:#FF6B6B;--violet:#7C6AF7;--sky:#38BDF8;--green:#22C55E;
  --shadow:0 8px 32px rgba(0,0,0,0.45);
  --radius:16px;--radius-sm:10px;
  --fs:15px;--fs-sm:13px;--fs-lg:18px;--fs-h:1;
  --pad:1;
  --font-body:'DM Sans',sans-serif;
  --font-head:'Outfit',sans-serif;
}

/* â”€â”€ THEMES â”€â”€ */
[data-theme="light"]{
  --bg:#F2F5FF;--bg2:#E8EEFF;--card:#FFFFFF;--card-hov:#F0F4FF;
  --text:#1A2340;--muted:#607090;--border:rgba(0,0,0,0.09);
  --glass:rgba(255,255,255,0.8);--input-bg:rgba(0,0,0,0.04);
  --nav-bg:rgba(242,245,255,0.94);--shadow:0 6px 24px rgba(0,0,0,0.10);
  --accent:#0099CC;--accent2:#006EBF;
}
[data-theme="warm"]{
  --bg:#1A1208;--bg2:#221809;--card:#2A1F0E;--card-hov:#33260E;
  --text:#F5EDD8;--muted:#A08B6E;--border:rgba(245,205,130,0.12);
  --glass:rgba(245,205,130,0.04);--input-bg:rgba(245,205,130,0.07);
  --nav-bg:rgba(26,18,8,0.94);--shadow:0 8px 32px rgba(0,0,0,0.55);
  --accent:#F5A623;--accent2:#D4891A;
}
[data-theme="ocean"]{
  --bg:#020F1F;--bg2:#041628;--card:#071E35;--card-hov:#0A2540;
  --text:#D8EEF8;--muted:#6B9AB8;--border:rgba(56,189,248,0.10);
  --glass:rgba(56,189,248,0.04);--input-bg:rgba(56,189,248,0.05);
  --nav-bg:rgba(2,15,31,0.94);--shadow:0 8px 32px rgba(0,0,0,0.55);
  --accent:#38BDF8;--accent2:#0EA5E9;
}
[data-theme="forest"]{
  --bg:#0A1510;--bg2:#0F1E15;--card:#13231A;--card-hov:#192D22;
  --text:#DFF0E4;--muted:#7AAB88;--border:rgba(74,222,128,0.10);
  --glass:rgba(74,222,128,0.04);--input-bg:rgba(74,222,128,0.05);
  --nav-bg:rgba(10,21,16,0.94);--shadow:0 8px 32px rgba(0,0,0,0.55);
  --accent:#4ADE80;--accent2:#22C55E;
}

/* â”€â”€ ARABIC â”€â”€ */
[lang="ar"]{--font-body:'Cairo',sans-serif;--font-head:'Cairo',sans-serif;}

/* â”€â”€ BASE â”€â”€ */
body{
  background:var(--bg);color:var(--text);
  font-family:var(--font-body);font-size:var(--fs);
  min-height:100vh;overflow-x:hidden;
  transition:background .35s,color .35s;
  padding-bottom:70px;
}
h1,h2,h3,h4,h5{font-family:var(--font-head);line-height:1.15;letter-spacing:-.3px;}
h1{font-size:calc(2.2rem * var(--fs-h));}
h2{font-size:calc(1.7rem * var(--fs-h));}
h3{font-size:calc(1.25rem * var(--fs-h));}
h4{font-size:calc(1rem * var(--fs-h));}

::-webkit-scrollbar{width:5px;}
::-webkit-scrollbar-track{background:var(--bg);}
::-webkit-scrollbar-thumb{background:var(--accent);border-radius:3px;}

/* â”€â”€ GRID BG â”€â”€ */
.grid-bg{
  background-image:
    linear-gradient(rgba(0,212,170,.035) 1px,transparent 1px),
    linear-gradient(90deg,rgba(0,212,170,.035) 1px,transparent 1px);
  background-size:42px 42px;
}
[data-theme="light"] .grid-bg{background-image:linear-gradient(rgba(0,120,200,.04) 1px,transparent 1px),linear-gradient(90deg,rgba(0,120,200,.04) 1px,transparent 1px);}

/* â”€â”€ LAYOUT UTILS â”€â”€ */
.container{max-width:1240px;margin:0 auto;padding:0 20px;}
.flex{display:flex;}.flex-col{flex-direction:column;}
.items-center{align-items:center;}.items-start{align-items:flex-start;}
.justify-between{justify-content:space-between;}.justify-center{justify-content:center;}
.gap4{gap:4px;}.gap6{gap:6px;}.gap8{gap:8px;}.gap10{gap:10px;}
.gap12{gap:12px;}.gap16{gap:16px;}.gap20{gap:20px;}.gap24{gap:24px;}
.wrap{flex-wrap:wrap;}
.w-full{width:100%;}
.text-center{text-align:center;}
.mb4{margin-bottom:4px;}.mb6{margin-bottom:6px;}.mb8{margin-bottom:8px;}
.mb12{margin-bottom:12px;}.mb16{margin-bottom:16px;}.mb20{margin-bottom:20px;}
.mb24{margin-bottom:24px;}.mb32{margin-bottom:32px;}.mb40{margin-bottom:40px;}
.mt4{margin-top:4px;}.mt8{margin-top:8px;}.mt12{margin-top:12px;}.mt16{margin-top:16px;}
.mt24{margin-top:24px;}.mt32{margin-top:32px;}.mt40{margin-top:40px;}
.p12{padding:12px;}.p16{padding:16px;}.p20{padding:20px;}.p24{padding:24px;}
.bold{font-weight:700;}.xbold{font-weight:900;}
.small{font-size:var(--fs-sm);}.muted{color:var(--muted);}
.relative{position:relative;}.absolute{position:absolute;}
.overflow-hidden{overflow:hidden;}.z1{z-index:1;}

/* â”€â”€ GRADIENT TEXT â”€â”€ */
.g-text{
  background:linear-gradient(135deg,var(--accent),var(--sky));
  -webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;
}

/* â”€â”€ CARD â”€â”€ */
.card{
  background:var(--card);border:1px solid var(--border);
  border-radius:var(--radius);
  transition:background .25s,border-color .25s,transform .25s,box-shadow .25s;
}
.card-hover:hover{background:var(--card-hov);border-color:var(--accent);transform:translateY(-3px);box-shadow:var(--shadow);}

/* â”€â”€ BUTTONS â”€â”€ */
.btn-p{
  background:var(--accent);color:var(--bg);
  font-family:var(--font-head);font-weight:700;
  padding:10px 22px;border-radius:var(--radius-sm);border:none;
  font-size:var(--fs);display:inline-flex;align-items:center;gap:7px;
  transition:filter .2s,box-shadow .2s,transform .2s;
}
.btn-p:hover{filter:brightness(1.08);box-shadow:0 6px 22px color-mix(in srgb,var(--accent) 45%,transparent);transform:translateY(-1px);}
[data-theme="light"] .btn-p{color:#fff;}
.btn-g{
  background:transparent;color:var(--text);
  font-family:var(--font-head);font-weight:600;
  padding:9px 20px;border-radius:var(--radius-sm);border:1px solid var(--border);
  font-size:var(--fs);display:inline-flex;align-items:center;gap:7px;
  transition:all .2s;
}
.btn-g:hover{border-color:var(--accent);color:var(--accent);background:color-mix(in srgb,var(--accent) 8%,transparent);}
.btn-sm{padding:6px 14px;font-size:var(--fs-sm);}
.btn-icon{padding:7px;border-radius:9px;border:1px solid var(--border);background:transparent;color:var(--muted);transition:all .2s;}
.btn-icon:hover{color:var(--accent);border-color:var(--accent);}
.btn-danger{border-color:var(--coral)!important;color:var(--coral)!important;}
.btn-danger:hover{background:color-mix(in srgb,var(--coral) 8%,transparent)!important;}

/* â”€â”€ INPUTS â”€â”€ */
input[type=text],input[type=number],select,textarea{
  background:var(--input-bg);border:1px solid var(--border);
  color:var(--text);border-radius:var(--radius-sm);
  padding:9px 13px;font-family:var(--font-body);font-size:var(--fs);
  width:100%;outline:none;transition:border-color .2s;
  -webkit-appearance:none;appearance:none;
}
input:focus,select:focus,textarea:focus{border-color:var(--accent);box-shadow:0 0 0 3px color-mix(in srgb,var(--accent) 15%,transparent);}
select option{background:var(--card);color:var(--text);}
input[type=range]{-webkit-appearance:none;appearance:none;width:100%;height:4px;border-radius:2px;background:var(--border);border:none;outline:none;padding:0;}
input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;width:18px;height:18px;border-radius:50%;background:var(--accent);cursor:pointer;border:2px solid var(--bg);transition:transform .2s;}
input[type=range]::-webkit-slider-thumb:hover{transform:scale(1.2);}
label.field-label{display:block;font-size:var(--fs-sm);color:var(--muted);margin-bottom:5px;font-weight:500;}

/* â”€â”€ BADGES & TAGS â”€â”€ */
.badge{display:inline-flex;align-items:center;gap:5px;padding:3px 10px;border-radius:100px;font-size:.75em;font-family:var(--font-head);font-weight:600;}
.badge-accent{background:color-mix(in srgb,var(--accent) 12%,transparent);border:1px solid color-mix(in srgb,var(--accent) 28%,transparent);color:var(--accent);}
.badge-green{background:rgba(34,197,94,.12);border:1px solid rgba(34,197,94,.25);color:var(--green);}
.badge-coral{background:rgba(255,107,107,.12);border:1px solid rgba(255,107,107,.25);color:var(--coral);}
.badge-sky{background:color-mix(in srgb,var(--sky) 12%,transparent);border:1px solid color-mix(in srgb,var(--sky) 25%,transparent);color:var(--sky);}
.tag{padding:3px 10px;border-radius:100px;font-size:.75em;font-weight:500;background:color-mix(in srgb,var(--violet) 14%,transparent);border:1px solid color-mix(in srgb,var(--violet) 28%,transparent);color:color-mix(in srgb,var(--violet) 85%,var(--text));}

/* â”€â”€ PROGRESS â”€â”€ */
.prog-track{height:5px;border-radius:3px;background:var(--border);overflow:hidden;}
.prog-fill{height:100%;border-radius:3px;background:linear-gradient(90deg,var(--accent),var(--sky));transition:width .8s ease;}

/* â”€â”€ TOGGLE SWITCH â”€â”€ */
.tog{width:42px;height:24px;border-radius:12px;border:none;cursor:pointer;position:relative;flex-shrink:0;transition:background .25s;}
.tog .thumb{width:18px;height:18px;border-radius:50%;background:white;position:absolute;top:3px;transition:left .2s ease;box-shadow:0 1px 4px rgba(0,0,0,.3);}

/* â”€â”€ NAVBAR â”€â”€ */
#nav{
  position:sticky;top:0;z-index:50;
  background:var(--nav-bg);backdrop-filter:blur(18px);-webkit-backdrop-filter:blur(18px);
  border-bottom:1px solid var(--border);
}
.nav-inner{max-width:1240px;margin:0 auto;padding:0 20px;display:flex;align-items:center;justify-content:space-between;height:60px;}
.logo{display:flex;align-items:center;gap:9px;cursor:pointer;user-select:none;}
.logo-icon{width:34px;height:34px;border-radius:10px;background:linear-gradient(135deg,var(--accent),var(--sky));display:flex;align-items:center;justify-content:center;font-size:17px;flex-shrink:0;}
.logo-text{font-family:var(--font-head);font-weight:800;font-size:1.2em;letter-spacing:-.3px;}
.logo-ar{font-size:.45em;vertical-align:top;margin-inline-start:3px;color:var(--muted);font-weight:500;}
.nav-links{display:flex;align-items:center;gap:2px;}
.nl{color:var(--muted);font-size:.9em;font-weight:500;padding:6px 11px;border-radius:8px;cursor:pointer;transition:all .2s;border:none;background:transparent;}
.nl:hover,.nl.on{color:var(--accent);background:color-mix(in srgb,var(--accent) 9%,transparent);}
.nav-actions{display:flex;align-items:center;gap:9px;}
.notif-dot{position:relative;}
.notif-dot::after{content:'';position:absolute;top:-2px;right:-2px;width:8px;height:8px;border-radius:50%;background:var(--coral);border:2px solid var(--bg);}

/* â”€â”€ MOBILE NAV â”€â”€ */
#mob-nav{
  position:fixed;bottom:0;left:0;right:0;
  background:var(--nav-bg);backdrop-filter:blur(20px);-webkit-backdrop-filter:blur(20px);
  border-top:1px solid var(--border);z-index:100;
  display:none;justify-content:space-around;padding:6px 0 calc(6px + env(safe-area-inset-bottom));
}
.mob-tab{display:flex;flex-direction:column;align-items:center;gap:3px;cursor:pointer;padding:5px 12px;border-radius:10px;border:none;background:transparent;transition:all .2s;}
.mob-tab svg{transition:stroke .2s;}
.mob-tab span{font-size:.65em;font-weight:600;color:var(--muted);transition:color .2s;}
.mob-tab.on{background:color-mix(in srgb,var(--accent) 10%,transparent);}
.mob-tab.on svg{stroke:var(--accent)!important;}
.mob-tab.on span{color:var(--accent);}

/* â”€â”€ PAGES â”€â”€ */
.page{display:none;min-height:calc(100vh - 60px - 70px);}
.page.active{display:block;}

/* â”€â”€ HERO GLOWS â”€â”€ */
.glow{position:absolute;border-radius:50%;filter:blur(80px);pointer-events:none;z-index:0;}

/* â”€â”€ STEP INDICATOR â”€â”€ */
.step-row{display:flex;align-items:center;gap:0;}
.step-circle{width:38px;height:38px;border-radius:50%;display:flex;align-items:center;justify-content:center;flex-shrink:0;font-size:16px;border:2px solid var(--border);background:var(--card);transition:all .3s;font-family:var(--font-head);font-weight:700;}
.step-circle.done{background:var(--accent);border-color:var(--accent);color:var(--bg);}
.step-circle.active{border-color:var(--accent);color:var(--accent);}
.step-line{flex:1;height:2px;background:var(--border);transition:background .3s;}
.step-line.done{background:var(--accent);}

/* â”€â”€ COMPAT CIRCLE â”€â”€ */
.compat-ring{position:relative;display:inline-flex;align-items:center;justify-content:center;}
.compat-ring svg{transform:rotate(-90deg);}
.compat-ring .inner{position:absolute;display:flex;flex-direction:column;align-items:center;justify-content:center;}

/* â”€â”€ LISTING CARD â”€â”€ */
.listing-img{position:relative;aspect-ratio:16/10;overflow:hidden;}
.listing-img img{width:100%;height:100%;object-fit:cover;transition:transform .4s;}
.card-hover:hover .listing-img img{transform:scale(1.04);}
.img-overlay{position:absolute;inset:0;background:linear-gradient(to top,rgba(0,0,0,.6) 0%,transparent 55%);}

/* â”€â”€ VR EMBED â”€â”€ */
.vr-wrap{position:relative;width:100%;padding-bottom:56.25%;border-radius:14px;overflow:hidden;box-shadow:0 16px 48px rgba(0,0,0,.5);}
.vr-wrap iframe{position:absolute;top:0;left:0;width:100%;height:100%;border:none;}

/* â”€â”€ SETTINGS THEME GRID â”€â”€ */
.theme-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(100px,1fr));gap:10px;}
.theme-tile{padding:14px 8px;border-radius:12px;border:2px solid var(--border);background:var(--input-bg);cursor:pointer;text-align:center;transition:all .2s;}
.theme-tile.on{border-color:var(--accent);background:color-mix(in srgb,var(--accent) 12%,transparent);}
.theme-tile-icon{font-size:22px;margin-bottom:5px;}
.theme-tile-label{font-family:var(--font-head);font-size:.8em;font-weight:600;color:var(--muted);}
.theme-tile.on .theme-tile-label{color:var(--accent);}

/* â”€â”€ FONT SIZE TILES â”€â”€ */
.fs-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:8px;}
.fs-tile{padding:12px 6px;border-radius:10px;border:2px solid var(--border);background:var(--input-bg);cursor:pointer;text-align:center;transition:all .2s;}
.fs-tile.on{border-color:var(--accent);background:color-mix(in srgb,var(--accent) 12%,transparent);}

/* â”€â”€ SETTING ROW â”€â”€ */
.setting-row{display:flex;justify-content:space-between;align-items:center;padding:12px 0;border-bottom:1px solid var(--border);}
.setting-row:last-child{border-bottom:none;}
.setting-info{}
.setting-label{font-weight:600;font-size:var(--fs);}
.setting-desc{font-size:var(--fs-sm);color:var(--muted);margin-top:3px;}

/* â”€â”€ CHORE ITEM â”€â”€ */
.chore-item{display:flex;align-items:center;gap:12px;padding:12px 14px;border-radius:10px;border:1px solid var(--border);background:var(--input-bg);transition:all .2s;}
.chore-item.done{background:color-mix(in srgb,var(--accent) 5%,transparent);border-color:color-mix(in srgb,var(--accent) 18%,transparent);}
.chore-check{width:24px;height:24px;border-radius:6px;border:2px solid var(--border);background:transparent;cursor:pointer;display:flex;align-items:center;justify-content:center;flex-shrink:0;transition:all .2s;}
.chore-check.mine{cursor:pointer;}
.chore-check.mine:hover{border-color:var(--accent);}
.chore-check.checked{background:var(--accent);border-color:var(--accent);}
.chore-check.checked-other{border-color:var(--accent);}

/* â”€â”€ RISK COLORS â”€â”€ */
.risk-low{color:var(--green);}
.risk-med{color:var(--amber);}
.risk-hi{color:var(--coral);}

/* â”€â”€ NOTIFICATION â”€â”€ */
.notif-item{display:flex;gap:12px;padding:15px 17px;border-radius:var(--radius);border:1px solid var(--border);background:var(--card);border-left-width:3px;}
.notif-item.urgent{border-left-color:var(--coral);}
.notif-item.normal{border-left-color:var(--border);}

/* â”€â”€ TAB BAR â”€â”€ */
.tab-bar{display:flex;gap:8px;flex-wrap:wrap;margin-bottom:18px;}
.tab-btn{padding:8px 16px;border-radius:9px;border:1px solid var(--border);background:transparent;color:var(--muted);font-family:var(--font-head);font-weight:600;cursor:pointer;font-size:.85em;transition:all .2s;}
.tab-btn.on{background:color-mix(in srgb,var(--accent) 12%,transparent);border-color:color-mix(in srgb,var(--accent) 38%,transparent);color:var(--accent);}

/* â”€â”€ CHOICE BUTTONS â”€â”€ */
.choice-row{display:flex;gap:8px;flex-wrap:wrap;}
.choice-btn{padding:8px 14px;border-radius:9px;border:1px solid var(--border);background:var(--input-bg);color:var(--muted);font-weight:600;font-size:.88em;cursor:pointer;transition:all .2s;}
.choice-btn.on{border-color:var(--accent);background:color-mix(in srgb,var(--accent) 12%,transparent);color:var(--accent);}
.choice-btn.on-v{border-color:var(--violet);background:color-mix(in srgb,var(--violet) 12%,transparent);color:color-mix(in srgb,var(--violet) 85%,var(--text));}

/* â”€â”€ HOBBY CHIPS â”€â”€ */
.hobby-chip{padding:5px 12px;border-radius:100px;border:1px solid var(--border);background:var(--input-bg);color:var(--muted);font-size:.82em;cursor:pointer;transition:all .2s;}
.hobby-chip.on{border-color:var(--accent);background:color-mix(in srgb,var(--accent) 10%,transparent);color:var(--accent);}

/* â”€â”€ ROOMMATE CIRCLE â”€â”€ */
.avatar{display:flex;align-items:center;justify-content:center;font-family:var(--font-head);font-weight:800;border-radius:50%;flex-shrink:0;}

/* â”€â”€ FINANCE DONUT â”€â”€ */
#donut-ring{transition:stroke-dashoffset .8s ease,stroke .4s;}

/* â”€â”€ SIDEBAR STICKY â”€â”€ */
.sidebar-sticky{position:sticky;top:76px;align-self:start;}

/* â”€â”€ RESPONSIVE â”€â”€ */
@media(max-width:768px){
  #mob-nav{display:flex;}
  .hide-mob{display:none!important;}
  .grid-2col{grid-template-columns:1fr!important;}
  .grid-sidebar{grid-template-columns:1fr!important;}
  h1{font-size:calc(1.7rem * var(--fs-h));}
  h2{font-size:calc(1.4rem * var(--fs-h));}
  .container{padding:0 14px;}
  .fs-grid{grid-template-columns:repeat(4,1fr);}
  .theme-grid{grid-template-columns:repeat(3,1fr);}
}
@media(min-width:769px){
  body{padding-bottom:0;}
}

/* â”€â”€ ANIMATIONS â”€â”€ */
@keyframes slideUp{from{opacity:0;transform:translateY(18px);}to{opacity:1;transform:translateY(0);}}
@keyframes fadeIn{from{opacity:0;}to{opacity:1;}}
.anim-up{animation:slideUp .45s ease forwards;}
.anim-fade{animation:fadeIn .35s ease forwards;}

/* â”€â”€ SECTION HELPERS â”€â”€ */
.section{padding:28px 0;}
.section-title{font-weight:800;margin-bottom:8px;}
.section-sub{color:var(--muted);margin-bottom:24px;font-size:.95em;}

/* â”€â”€ RTL support â”€â”€ */
[dir="rtl"] .nav-links{flex-direction:row-reverse;}
[dir="rtl"] .nav-actions{flex-direction:row-reverse;}
[dir="rtl"] .logo-ar{margin-inline-start:0;margin-inline-end:3px;}
[dir="rtl"] .tab-btn{direction:rtl;}
[dir="rtl"] .setting-row{flex-direction:row-reverse;}
[dir="rtl"] .notif-item{border-left-width:1px;border-right-width:3px;border-right-color:inherit;}
[dir="rtl"] .notif-item.urgent{border-right-color:var(--coral);}
[dir="rtl"] .chore-item{flex-direction:row-reverse;}
[dir="rtl"] input[type=text],[dir="rtl"] input[type=number],[dir="rtl"] select,[dir="rtl"] textarea{text-align:right;}
[dir="rtl"] .choice-row{flex-direction:row-reverse;}
[dir="rtl"] .flex{flex-direction:row-reverse;}
[dir="rtl"] .flex.no-flip{flex-direction:row;}
[dir="rtl"] .step-row{flex-direction:row-reverse;}
[dir="rtl"] .nav-inner{flex-direction:row-reverse;}
[dir="rtl"] .mob-tab{direction:rtl;}
[dir="rtl"] .listing-img .img-overlay{background:linear-gradient(to top,rgba(0,0,0,.6),transparent 55%);}

/* prevent double flip on known rows */
.flex.no-flip,[dir="rtl"] .flex.no-flip{flex-direction:row;}
</style>
</head>
<body data-theme="dark">

<!-- â–ˆâ–ˆ NAVBAR â–ˆâ–ˆ -->
<nav id="nav">
  <div class="nav-inner">
    <div class="logo" onclick="goPage('home')">
      <div class="logo-icon">ğŸ </div>
      <span class="logo-text">Sak<span class="g-text">ani</span><span class="logo-ar">Ø³ÙƒÙ†ÙŠ</span></span>
    </div>

    <div class="nav-links hide-mob" id="nav-links">
      <button class="nl on" data-page="home"    onclick="goPage('home')"          data-i18n="nav_home">Home</button>
      <button class="nl"    data-page="listings" onclick="goPage('listings')"      data-i18n="nav_find">Find Housing</button>
      <button class="nl"    data-page="roommates"onclick="goPage('roommates')"     data-i18n="nav_room">Roommates</button>
      <button class="nl"    data-page="finance"  onclick="goPage('finance')"       data-i18n="nav_budget">Budget</button>
      <button class="nl"    data-page="chores"   onclick="goPage('chores')"        data-i18n="nav_chore">Chore Hub</button>
    </div>

    <div class="nav-actions">
      <button class="btn-icon" id="theme-quick-btn" onclick="quickThemeToggle()" title="Toggle theme">
        <svg width="17" height="17" fill="none" stroke="var(--accent)" stroke-width="1.8" viewBox="0 0 24 24" id="theme-icon">
          <circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/>
          <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/>
          <line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/>
          <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/>
        </svg>
      </button>
      <button class="btn-icon notif-dot" onclick="goPage('notifications')">
        <svg width="18" height="18" fill="none" stroke="var(--muted)" stroke-width="1.8" viewBox="0 0 24 24">
          <path d="M18 8A6 6 0 006 8c0 7-3 9-3 9h18s-3-2-3-9"/><path d="M13.73 21a2 2 0 01-3.46 0"/>
        </svg>
      </button>
      <button class="btn-icon" onclick="goPage('settings')">
        <svg width="18" height="18" fill="none" stroke="var(--muted)" stroke-width="1.8" viewBox="0 0 24 24">
          <circle cx="12" cy="12" r="3"/><path d="M19.4 15a1.65 1.65 0 00.33 1.82l.06.06a2 2 0 010 2.83 2 2 0 01-2.83 0l-.06-.06a1.65 1.65 0 00-1.82-.33 1.65 1.65 0 00-1 1.51V21a2 2 0 01-4 0v-.09A1.65 1.65 0 009 19.4a1.65 1.65 0 00-1.82.33l-.06.06a2 2 0 01-2.83-2.83l.06-.06A1.65 1.65 0 004.68 15a1.65 1.65 0 00-1.51-1H3a2 2 0 010-4h.09A1.65 1.65 0 004.6 9a1.65 1.65 0 00-.33-1.82l-.06-.06a2 2 0 012.83-2.83l.06.06A1.65 1.65 0 009 4.68a1.65 1.65 0 001-1.51V3a2 2 0 014 0v.09a1.65 1.65 0 001 1.51 1.65 1.65 0 001.82-.33l.06-.06a2 2 0 012.83 2.83l-.06.06A1.65 1.65 0 0019.4 9a1.65 1.65 0 001.51 1H21a2 2 0 010 4h-.09a1.65 1.65 0 00-1.51 1z"/>
        </svg>
      </button>
      <button class="btn-p btn-sm hide-mob" onclick="goPage('onboarding')" data-i18n="nav_start">Get Started</button>
    </div>
  </div>
</nav>

<!-- â–ˆâ–ˆ MOBILE NAV â–ˆâ–ˆ -->
<div id="mob-nav">
  <button class="mob-tab on" data-page="home" onclick="goPage('home')">
    <svg width="20" height="20" fill="none" stroke="var(--accent)" stroke-width="1.8" viewBox="0 0 24 24"><path d="M3 9l9-7 9 7v11a2 2 0 01-2 2H5a2 2 0 01-2-2z"/><polyline points="9,22 9,12 15,12 15,22"/></svg>
    <span data-i18n="nav_home">Home</span>
  </button>
  <button class="mob-tab" data-page="listings" onclick="goPage('listings')">
    <svg width="20" height="20" fill="none" stroke="var(--muted)" stroke-width="1.8" viewBox="0 0 24 24"><circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/></svg>
    <span data-i18n="nav_find">Search</span>
  </button>
  <button class="mob-tab" data-page="roommates" onclick="goPage('roommates')">
    <svg width="20" height="20" fill="none" stroke="var(--muted)" stroke-width="1.8" viewBox="0 0 24 24"><path d="M17 21v-2a4 4 0 00-4-4H5a4 4 0 00-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M23 21v-2a4 4 0 00-3-3.87"/><path d="M16 3.13a4 4 0 010 7.75"/></svg>
    <span data-i18n="nav_room">Match</span>
  </button>
  <button class="mob-tab" data-page="finance" onclick="goPage('finance')">
    <svg width="20" height="20" fill="none" stroke="var(--muted)" stroke-width="1.8" viewBox="0 0 24 24"><rect x="2" y="7" width="20" height="14" rx="3"/><path d="M16 3H8a2 2 0 00-2 2v2h12V5a2 2 0 00-2-2z"/><circle cx="16.5" cy="14" r="1.5" fill="var(--muted)"/></svg>
    <span data-i18n="nav_budget">Budget</span>
  </button>
  <button class="mob-tab" data-page="settings" onclick="goPage('settings')">
    <svg width="20" height="20" fill="none" stroke="var(--muted)" stroke-width="1.8" viewBox="0 0 24 24"><circle cx="12" cy="12" r="3"/><path d="M19.4 15a1.65 1.65 0 00.33 1.82l.06.06a2 2 0 010 2.83 2 2 0 01-2.83 0l-.06-.06a1.65 1.65 0 00-1.82-.33 1.65 1.65 0 00-1 1.51V21a2 2 0 01-4 0v-.09A1.65 1.65 0 009 19.4a1.65 1.65 0 00-1.82.33l-.06.06a2 2 0 01-2.83-2.83l.06-.06A1.65 1.65 0 004.68 15a1.65 1.65 0 00-1.51-1H3a2 2 0 010-4h.09A1.65 1.65 0 004.6 9a1.65 1.65 0 00-.33-1.82l-.06-.06a2 2 0 012.83-2.83l.06.06A1.65 1.65 0 009 4.68a1.65 1.65 0 001-1.51V3a2 2 0 014 0v.09a1.65 1.65 0 001 1.51 1.65 1.65 0 001.82-.33l.06-.06a2 2 0 012.83 2.83l-.06.06A1.65 1.65 0 0019.4 9a1.65 1.65 0 001.51 1H21a2 2 0 010 4h-.09a1.65 1.65 0 00-1.51 1z"/></svg>
    <span data-i18n="nav_settings">Settings</span>
  </button>
</div>

<!-- â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ PAGES â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ -->

<!-- HOME -->
<div id="page-home" class="page active grid-bg" style="position:relative;">
  <div class="glow" style="width:480px;height:480px;background:radial-gradient(circle,color-mix(in srgb,var(--accent) 16%,transparent),transparent);top:-60px;right:-80px;"></div>
  <div class="glow" style="width:350px;height:350px;background:radial-gradient(circle,color-mix(in srgb,var(--violet) 11%,transparent),transparent);top:280px;left:-60px;"></div>
  <div class="container" style="padding-top:60px;padding-bottom:60px;position:relative;z-index:1;">
    <!-- HERO -->
    <div class="text-center" style="max-width:740px;margin:0 auto;">
      <span class="badge badge-accent mb16" style="display:inline-flex;" data-i18n="home_badge">âœ¨ AI-Powered Student Housing â€” Tunisia</span>
      <h1 class="mb20 xbold" data-i18n="home_h1">Find Your <span class="g-text">Perfect</span> Student Home</h1>
      <p class="muted mb36" style="line-height:1.7;max-width:510px;margin-left:auto;margin-right:auto;" data-i18n="home_sub">Smart housing search, AI roommate matching, and financial intelligence â€” built for Tunisian students.</p>
      <div class="flex justify-center gap12 wrap mb40">
        <button class="btn-p" onclick="goPage('onboarding')" data-i18n="home_cta1">Find My Home â†’</button>
        <button class="btn-g" onclick="goPage('listings')"   data-i18n="home_cta2">Browse Listings</button>
      </div>
      <!-- Quick search -->
      <div class="card p12" style="display:flex;gap:10px;flex-wrap:wrap;align-items:center;">
        <input type="text"  style="flex:1 1 160px;" id="qs-region" placeholder="Region or university..." data-i18n-ph="qs_ph1">
        <select style="flex:0 1 140px;" id="qs-budget">
          <option value="" data-i18n="qs_any_budget">Any Budget</option>
          <option>Under 200 TND</option><option>200â€“400 TND</option>
          <option>400â€“700 TND</option><option>700+ TND</option>
        </select>
        <select style="flex:0 1 120px;" id="qs-type">
          <option value="" data-i18n="qs_any_type">Any Type</option>
          <option>Studio</option><option>Shared</option><option>Room</option><option>Apartment</option>
        </select>
        <button class="btn-p btn-sm" onclick="goPage('listings')" data-i18n="btn_search">ğŸ” Search</button>
      </div>
    </div>

    <!-- STATS -->
    <div style="display:grid;grid-template-columns:repeat(auto-fit,minmax(130px,1fr));gap:13px;margin-top:50px;">
      <div class="card p20 text-center"><div style="font-family:var(--font-head);font-size:1.9em;font-weight:800;color:var(--accent);">12,500+</div><div class="small muted mt4" data-i18n="stat1">Student Rooms</div></div>
      <div class="card p20 text-center"><div style="font-family:var(--font-head);font-size:1.9em;font-weight:800;color:var(--sky);">98%</div><div class="small muted mt4" data-i18n="stat2">Verified Listings</div></div>
      <div class="card p20 text-center"><div style="font-family:var(--font-head);font-size:1.9em;font-weight:800;color:var(--amber);">4.8â˜…</div><div class="small muted mt4" data-i18n="stat3">Avg Safety Score</div></div>
      <div class="card p20 text-center"><div style="font-family:var(--font-head);font-size:1.9em;font-weight:800;color:var(--violet);">3,200+</div><div class="small muted mt4" data-i18n="stat4">Happy Students</div></div>
    </div>

    <!-- FEATURES -->
    <div style="margin-top:72px;">
      <h2 class="text-center xbold mb8" data-i18n="feat_title">Everything You Need</h2>
      <p class="text-center muted mb32 small" data-i18n="feat_sub">From discovery to daily living â€” all covered.</p>
      <div style="display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:15px;">
        <div class="card card-hover p20"><div style="font-size:22px;margin-bottom:12px;">ğŸ”</div><h4 class="mb6" data-i18n="f1t">Smart Search</h4><p class="small muted" style="line-height:1.6;" data-i18n="f1d">Filter by budget, distance, lifestyle & 20+ criteria.</p></div>
        <div class="card card-hover p20"><div style="font-size:22px;margin-bottom:12px;">ğŸ¤</div><h4 class="mb6" data-i18n="f2t">AI Roommate Match</h4><p class="small muted" style="line-height:1.6;" data-i18n="f2d">Compatibility engine analyzes 10+ lifestyle factors.</p></div>
        <div class="card card-hover p20"><div style="font-size:22px;margin-bottom:12px;">ğŸ’°</div><h4 class="mb6" data-i18n="f3t">Financial Intelligence</h4><p class="small muted" style="line-height:1.6;" data-i18n="f3d">Full monthly cost breakdown â€” no hidden surprises.</p></div>
        <div class="card card-hover p20"><div style="font-size:22px;margin-bottom:12px;">ğŸ¬</div><h4 class="mb6" data-i18n="f4t">360Â° VR Tours</h4><p class="small muted" style="line-height:1.6;" data-i18n="f4d">Explore rooms with immersive YouTube VR embeds.</p></div>
        <div class="card card-hover p20"><div style="font-size:22px;margin-bottom:12px;">ğŸ§¹</div><h4 class="mb6" data-i18n="f5t">Chore Harmony</h4><p class="small muted" style="line-height:1.6;" data-i18n="f5d">AI rotation that respects your exam schedule.</p></div>
        <div class="card card-hover p20"><div style="font-size:22px;margin-bottom:12px;">ğŸ›¡ï¸</div><h4 class="mb6" data-i18n="f6t">Verified & Safe</h4><p class="small muted" style="line-height:1.6;" data-i18n="f6d">Every landlord rated, fraud detection built in.</p></div>
      </div>
    </div>

    <!-- CTA BANNER -->
    <div style="margin-top:64px;border-radius:20px;background:linear-gradient(135deg,color-mix(in srgb,var(--accent) 10%,transparent),color-mix(in srgb,var(--violet) 10%,transparent));border:1px solid color-mix(in srgb,var(--accent) 20%,transparent);padding:42px 32px;text-align:center;">
      <h2 class="xbold mb10" data-i18n="cta_h">Ready to Find Your Home?</h2>
      <p class="muted mb24 small" data-i18n="cta_sub">Join 3,200+ students already living smarter across Tunisia.</p>
      <button class="btn-p" onclick="goPage('onboarding')" data-i18n="cta_btn">Start Free â€” Takes 3 Minutes âœ¨</button>
    </div>
  </div>
</div>

<!-- ONBOARDING -->
<div id="page-onboarding" class="page" style="position:relative;">
  <div class="glow" style="width:500px;height:500px;background:radial-gradient(circle,color-mix(in srgb,var(--violet) 11%,transparent),transparent);top:0;left:50%;transform:translateX(-50%);"></div>
  <div class="container" style="padding-top:50px;padding-bottom:50px;position:relative;z-index:1;">
    <div style="max-width:620px;margin:0 auto;">
      <div class="text-center mb32">
        <h2 class="xbold mb6" data-i18n="ob_title">Smart Matching Form</h2>
        <p class="muted small"><span id="ob-step-label">Step 1 of 4</span></p>
      </div>
      <!-- Step indicator -->
      <div class="step-row mb20" id="ob-steps">
        <div class="step-circle active" id="sc1">ğŸ‘¤</div>
        <div class="step-line" id="sl1"></div>
        <div class="step-circle" id="sc2">ğŸ¯</div>
        <div class="step-line" id="sl2"></div>
        <div class="step-circle" id="sc3">ğŸ </div>
        <div class="step-line" id="sl3"></div>
        <div class="step-circle" id="sc4">ğŸ’°</div>
      </div>
      <div class="prog-track mb24"><div class="prog-fill" id="ob-prog" style="width:25%;"></div></div>

      <!-- Step 1 -->
      <div class="card p24 anim-up" id="ob-s1">
        <h3 class="mb20">ğŸ‘¤ <span data-i18n="ob_s1">Personal Info</span></h3>
        <div style="display:grid;gap:14px;">
          <div style="display:grid;grid-template-columns:1fr 1fr;gap:12px;">
            <div><label class="field-label" data-i18n="ob_uni">University</label>
              <select id="ob-uni">
                <option value="">Select...</option>
                <option>ENIT</option><option>ENAU</option><option>ISG Tunis</option>
                <option>FacultÃ© de MÃ©decine</option><option>FST Tunis</option><option>INSAT</option>
                <option>FSM (FacultÃ© des Sciences de Monastir)</option>
                <option>ISET Tunis</option><option>UniversitÃ© de Sousse</option><option>ENIM Monastir</option>
              </select>
            </div>
            <div><label class="field-label" data-i18n="ob_year">Year</label>
              <select id="ob-year">
                <option value="">Select...</option>
                <option>1st Year</option><option>2nd Year</option><option>3rd Year</option>
                <option>Master 1</option><option>Master 2</option><option>PhD</option>
              </select>
            </div>
          </div>
          <div><label class="field-label" data-i18n="ob_region">Preferred Region</label>
            <input type="text" id="ob-region" placeholder="e.g. El Manar, Monastir, Sousse...">
          </div>
          <div>
            <label class="field-label">Budget: <strong style="color:var(--accent);" id="budget-display">150 â€“ 600 TND/month</strong></label>
            <div style="display:grid;grid-template-columns:1fr 1fr;gap:12px;margin-top:6px;">
              <div><label class="field-label small">Min</label><input type="range" min="100" max="800" step="50" value="150" id="ob-bmin" oninput="updateBudgetDisplay()"></div>
              <div><label class="field-label small">Max</label><input type="range" min="100" max="1200" step="50" value="600" id="ob-bmax" oninput="updateBudgetDisplay()"></div>
            </div>
          </div>
          <div>
            <label class="field-label" data-i18n="ob_roommates">Number of Roommates</label>
            <div class="choice-row mt4">
              <button class="choice-btn on" onclick="selectChoice(this,'roommates')">0</button>
              <button class="choice-btn"    onclick="selectChoice(this,'roommates')">1</button>
              <button class="choice-btn"    onclick="selectChoice(this,'roommates')">2</button>
              <button class="choice-btn"    onclick="selectChoice(this,'roommates')">3+</button>
            </div>
          </div>
        </div>
      </div>

      <!-- Step 2 -->
      <div class="card p24 anim-up" id="ob-s2" style="display:none;">
        <h3 class="mb20">ğŸ¯ <span data-i18n="ob_s2">Lifestyle</span></h3>
        <div style="display:grid;gap:16px;">
          <div>
            <label class="field-label" data-i18n="ob_study">Study Habits</label>
            <div class="choice-row mt4">
              <button class="choice-btn" onclick="selectChoice(this,'study')">Night Owl ğŸ¦‰</button>
              <button class="choice-btn" onclick="selectChoice(this,'study')">Morning ğŸŒ…</button>
              <button class="choice-btn" onclick="selectChoice(this,'study')">Flexible ğŸ”„</button>
            </div>
          </div>
          <div>
            <label class="field-label">Cleanliness: <strong style="color:var(--accent);" id="clean-val">3/5</strong></label>
            <input type="range" min="1" max="5" value="3" id="ob-clean" oninput="document.getElementById('clean-val').textContent=this.value+'/5'">
            <div class="flex justify-between small muted mt4 no-flip"><span data-i18n="ob_relaxed">Relaxed</span><span data-i18n="ob_spotless">Spotless</span></div>
          </div>
          <div style="display:grid;grid-template-columns:1fr 1fr;gap:12px;">
            <div><label class="field-label" data-i18n="ob_cook">Cooking</label>
              <select><option>Daily</option><option>3â€“4x/week</option><option>Weekends</option><option>Rarely</option></select>
            </div>
            <div><label class="field-label" data-i18n="ob_guest">Guests</label>
              <select><option>Low</option><option>Medium</option><option>High</option></select>
            </div>
          </div>
          <div>
            <label class="field-label" data-i18n="ob_pers">Personality</label>
            <div class="choice-row mt4">
              <button class="choice-btn" onclick="selectChoiceV(this,'personality')">Introvert ğŸ¤«</button>
              <button class="choice-btn" onclick="selectChoiceV(this,'personality')">Ambivert ğŸ˜Œ</button>
              <button class="choice-btn" onclick="selectChoiceV(this,'personality')">Extrovert ğŸ‰</button>
            </div>
          </div>
          <div>
            <label class="field-label" data-i18n="ob_hobbies">Hobbies</label>
            <div class="flex wrap gap6 mt4" id="hobby-chips"></div>
          </div>
        </div>
      </div>

      <!-- Step 3 -->
      <div class="card p24 anim-up" id="ob-s3" style="display:none;">
        <h3 class="mb20">ğŸ  <span data-i18n="ob_s3">Housing Preferences</span></h3>
        <div style="display:grid;gap:14px;">
          <div style="display:grid;grid-template-columns:1fr 1fr;gap:12px;">
            <div><label class="field-label" data-i18n="ob_furnished">Furnished</label>
              <select><option>No preference</option><option>Fully Furnished</option><option>Partial</option><option>Unfurnished</option></select>
            </div>
            <div><label class="field-label" data-i18n="ob_gender">Gender Policy</label>
              <select><option>No preference</option><option>Female only</option><option>Male only</option><option>Mixed</option></select>
            </div>
          </div>
          <div>
            <label class="field-label" data-i18n="ob_must">Must-Have Features</label>
            <div class="flex wrap gap6 mt4" id="feature-chips"></div>
          </div>
          <div style="padding:13px;border-radius:10px;background:color-mix(in srgb,var(--accent) 5%,transparent);border:1px solid color-mix(in srgb,var(--accent) 15%,transparent);">
            <p class="small muted" data-i18n="ob_privacy">ğŸ”’ Cultural/religious preferences can be added to your profile. All data stays private.</p>
          </div>
        </div>
      </div>

      <!-- Step 4 -->
      <div class="card p24 anim-up" id="ob-s4" style="display:none;">
        <h3 class="mb20">ğŸ’° <span data-i18n="ob_s4">Financial Setup</span></h3>
        <div style="display:grid;gap:15px;">
          <div><label class="field-label" data-i18n="ob_allowance">Monthly Allowance (TND)</label>
            <input type="number" value="900" id="ob-allowance">
          </div>
          <div style="display:grid;grid-template-columns:1fr 1fr;gap:12px;">
            <div><label class="field-label" data-i18n="ob_transport">Transport</label>
              <select id="ob-transport">
                <option value="bus">ğŸšŒ Bus</option><option value="metro">ğŸš‡ Metro</option>
                <option value="louage">ğŸš Louage</option><option value="taxi">ğŸš• Taxi</option>
                <option value="walk">ğŸš¶ Walk</option>
              </select>
            </div>
            <div><label class="field-label" data-i18n="ob_homefreq">Home Visits</label>
              <select id="ob-homefreq">
                <option value="1">Every week</option><option value="2">2x/month</option>
                <option value="3">Monthly</option><option value="4">Each semester</option>
              </select>
            </div>
          </div>
          <!-- Cost preview -->
          <div style="padding:15px;border-radius:12px;background:color-mix(in srgb,var(--accent) 6%,transparent);border:1px solid color-mix(in srgb,var(--accent) 18%,transparent);" id="ob-cost-preview">
            <p class="small muted mb8" data-i18n="ob_estimate">ğŸ“Š Estimated Monthly Cost</p>
            <div class="flex justify-between small mb4 no-flip"><span class="muted" data-i18n="cost_rent">Rent estimate</span><strong id="obc-rent">~375 TND</strong></div>
            <div class="flex justify-between small mb4 no-flip"><span class="muted" data-i18n="cost_bills">Bills (avg)</span><strong>~75 TND</strong></div>
            <div class="flex justify-between small mb4 no-flip"><span class="muted" data-i18n="cost_trans">Transport</span><strong id="obc-trans">~45 TND</strong></div>
            <div class="flex justify-between small mb8 no-flip"><span class="muted" data-i18n="cost_home">Hometown trips</span><strong>~55 TND</strong></div>
            <div style="height:1px;background:var(--border);"></div>
            <div class="flex justify-between mt8 no-flip"><span class="bold" data-i18n="cost_total">Total</span><strong style="color:var(--accent);" id="obc-total">~550 TND</strong></div>
          </div>
        </div>
      </div>

      <!-- Step nav -->
      <div class="flex justify-between mt24 gap12 no-flip">
        <button class="btn-g" id="ob-back-btn" onclick="obStep(-1)" data-i18n="btn_back">â† Back</button>
        <button class="btn-p" id="ob-next-btn" onclick="obStep(1)"  data-i18n="btn_next">Next â†’</button>
      </div>
    </div>
  </div>
</div>

<!-- LISTINGS -->
<div id="page-listings" class="page">
  <div class="container section">
    <div class="flex justify-between items-center mb20 wrap gap12">
      <div>
        <h2 class="xbold mb4" data-i18n="list_title">Find Housing</h2>
        <p class="small muted"><span id="list-count">6</span> <span data-i18n="list_found">listings found</span></p>
      </div>
      <div class="flex gap8 wrap no-flip">
        <button class="btn-g btn-sm" onclick="toggleFilters()" data-i18n="btn_filters">âš™ï¸ Filters</button>
        <select id="list-sort" style="width:auto;" onchange="renderListings()">
          <option value="rating" data-i18n="sort_rating">By Rating</option>
          <option value="price"  data-i18n="sort_price">By Price</option>
          <option value="safety" data-i18n="sort_safety">By Safety</option>
        </select>
      </div>
    </div>
    <!-- Filter panel -->
    <div class="card p20 mb20" id="filter-panel" style="display:none;">
      <div style="display:grid;grid-template-columns:repeat(auto-fit,minmax(160px,1fr));gap:13px;">
        <div><label class="field-label">Max Rent: <strong style="color:var(--accent);" id="rent-val">700 TND</strong></label>
          <input type="range" min="100" max="1000" step="50" value="700" id="filter-rent" oninput="document.getElementById('rent-val').textContent=this.value+' TND';renderListings()">
        </div>
        <div><label class="field-label" data-i18n="ob_type">Type</label>
          <select id="filter-type" onchange="renderListings()"><option value="All">All</option><option>Studio</option><option>Room</option><option>Shared</option><option>Apartment</option></select>
        </div>
        <div><label class="field-label" data-i18n="filter_region">Region</label>
          <input type="text" id="filter-region" placeholder="Search..." oninput="renderListings()">
        </div>
      </div>
    </div>
    <div id="listings-grid" style="display:grid;grid-template-columns:repeat(auto-fill,minmax(290px,1fr));gap:17px;"></div>
  </div>
</div>

<!-- DETAIL -->
<div id="page-detail" class="page">
  <div class="container section">
    <button class="btn-g btn-sm mb20" onclick="goPage('listings')">â† <span data-i18n="btn_back_list">Back to Listings</span></button>
    <div id="detail-content"></div>
  </div>
</div>

<!-- ROOMMATES -->
<div id="page-roommates" class="page">
  <div class="container section">
    <div class="text-center mb32">
      <span class="badge mb12" style="background:color-mix(in srgb,var(--violet) 12%,transparent);border:1px solid color-mix(in srgb,var(--violet) 25%,transparent);color:var(--violet);display:inline-flex;" data-i18n="rm_badge">ğŸ¤ AI Compatibility Engine</span>
      <h2 class="xbold mb8" data-i18n="rm_title">Find Your Roommate</h2>
      <p class="small muted" data-i18n="rm_sub">AI-powered matching based on lifestyle, budget & personality.</p>
    </div>
    <div style="display:grid;grid-template-columns:1fr 340px;gap:20px;" class="grid-sidebar" id="rm-layout">
      <div id="rm-list"></div>
      <div id="rm-detail" style="display:none;"></div>
    </div>
  </div>
</div>

<!-- FINANCE -->
<div id="page-finance" class="page">
  <div class="container section">
    <h2 class="xbold mb6" data-i18n="fin_title">ğŸ’° Budget Planner</h2>
    <p class="small muted mb28" data-i18n="fin_sub">Simulate your real monthly cost of student living.</p>
    <div style="display:grid;grid-template-columns:1fr 300px;gap:22px;" class="grid-sidebar">
      <div>
        <div class="card p22 mb18">
          <h3 class="mb16" data-i18n="fin_config">Configure Your Situation</h3>
          <div style="display:grid;gap:15px;">
            <div><label class="field-label">Allowance: <strong style="color:var(--green);" id="fin-allow-val">900 TND</strong></label>
              <input type="range" min="300" max="2000" step="50" value="900" id="fin-allow" oninput="updateFinance()">
            </div>
            <div><label class="field-label">Monthly Rent: <strong style="color:var(--accent);" id="fin-rent-val">350 TND</strong></label>
              <input type="range" min="100" max="1000" step="25" value="350" id="fin-rent" oninput="updateFinance()">
            </div>
            <div style="display:grid;grid-template-columns:1fr 1fr;gap:12px;">
              <div><label class="field-label" data-i18n="ob_transport">Transport</label>
                <select id="fin-transport" onchange="updateFinance()">
                  <option value="30">ğŸšŒ Bus (~30)</option><option value="40">ğŸš‡ Metro (~40)</option>
                  <option value="50">ğŸš Louage (~50)</option><option value="120">ğŸš• Taxi (~120)</option>
                  <option value="0">ğŸš¶ Walk (Free)</option>
                </select>
              </div>
              <div><label class="field-label" data-i18n="ob_homefreq">Home Visits</label>
                <select id="fin-home" onchange="updateFinance()">
                  <option value="80">Every week</option><option value="50">2x/month</option>
                  <option value="30">Monthly</option><option value="15">Each semester</option>
                </select>
              </div>
            </div>
            <div><label class="field-label">Extras: <strong style="color:var(--coral);" id="fin-extras-val">50 TND</strong></label>
              <input type="range" min="0" max="300" step="10" value="50" id="fin-extras" oninput="updateFinance()">
            </div>
          </div>
        </div>
        <!-- Breakdown -->
        <div class="card p22">
          <h3 class="mb16" data-i18n="fin_breakdown">Spending Breakdown</h3>
          <div id="fin-bars"></div>
        </div>
      </div>
      <!-- Summary -->
      <div class="sidebar-sticky">
        <div class="card p22 mb16">
          <div style="text-align:center;margin-bottom:18px;">
            <svg width="140" height="140" viewBox="0 0 140 140" style="display:block;margin:0 auto;">
              <circle cx="70" cy="70" r="54" fill="none" stroke="var(--border)" stroke-width="10"/>
              <circle cx="70" cy="70" r="54" fill="none" id="donut-ring" stroke="var(--green)" stroke-width="10" stroke-linecap="round" stroke-dasharray="339.3" stroke-dashoffset="339.3" style="transform:rotate(-90deg);transform-origin:70px 70px;"/>
            </svg>
            <div style="margin-top:-70px;margin-bottom:50px;position:relative;">
              <div style="font-family:var(--font-head);font-weight:900;font-size:1.5em;" id="fin-pct">0%</div>
              <div class="small muted" data-i18n="fin_used">used</div>
            </div>
          </div>
          <div id="fin-summary" style="display:grid;gap:8px;"></div>
          <div id="fin-risk" style="padding:12px;border-radius:10px;margin-top:10px;font-size:.85em;"></div>
        </div>
        <div class="card p18">
          <h4 class="mb10" style="font-size:.9em;" data-i18n="fin_tips">ğŸ’¡ Saving Tips</h4>
          <div id="fin-tips"></div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- CHORES -->
<div id="page-chores" class="page">
  <div class="container section">
    <h2 class="xbold mb6" data-i18n="ch_title">ğŸ§¹ Chore Hub</h2>
    <p class="small muted mb24" data-i18n="ch_sub">AI rotation respects your schedule & exam periods.</p>
    <div style="display:grid;grid-template-columns:repeat(auto-fit,minmax(140px,1fr));gap:13px;margin-bottom:22px;">
      <div class="card p16"><div style="font-size:20px;mb4;">âœ…</div><div style="font-family:var(--font-head);font-weight:800;font-size:1.4em;color:var(--accent);" id="ch-mine-stat">0/3</div><div class="small muted mt4" data-i18n="ch_mytasks">Your Tasks</div></div>
      <div class="card p16"><div style="font-size:20px;mb4;">âš–ï¸</div><div style="font-family:var(--font-head);font-weight:800;font-size:1.4em;color:var(--violet);">87%</div><div class="small muted mt4" data-i18n="ch_harmony">Harmony</div></div>
      <div class="card p16"><div style="font-size:20px;mb4;">ğŸ†</div><div style="font-family:var(--font-head);font-weight:800;font-size:1.4em;color:var(--amber);" id="ch-pts">0</div><div class="small muted mt4" data-i18n="ch_pts">Your Points</div></div>
      <div class="card p16"><div style="font-size:20px;mb4;">ğŸ“š</div><div style="font-family:var(--font-head);font-weight:800;font-size:1.4em;color:var(--sky);">OFF</div><div class="small muted mt4" data-i18n="ch_exam">Exam Mode</div></div>
    </div>
    <div style="display:grid;grid-template-columns:1fr 260px;gap:20px;" class="grid-sidebar">
      <div class="card p20"><h3 class="mb16" data-i18n="ch_rotation">Weekly Rotation</h3><div id="chore-list" style="display:grid;gap:9px;"></div></div>
      <div style="display:grid;gap:16px;align-content:start;">
        <div class="card p20"><h4 class="mb14" data-i18n="ch_leaderboard">ğŸ† Leaderboard</h4><div id="chore-leader"></div></div>
        <div class="card p18"><h4 class="mb10" style="font-size:.9em;" data-i18n="ch_ai">ğŸ¤– AI Notes</h4>
          <div class="small muted" style="line-height:1.6;" id="ch-ai-notes"></div>
        </div>
        <button class="btn-p" style="justify-content:center;" data-i18n="ch_regen">ğŸ”„ Regenerate Schedule</button>
      </div>
    </div>
  </div>
</div>

<!-- NOTIFICATIONS -->
<div id="page-notifications" class="page">
  <div class="container section" style="max-width:680px;">
    <h2 class="xbold mb6" data-i18n="notif_title">ğŸ”” Notifications</h2>
    <p class="small muted mb24" data-i18n="notif_sub">AI monitors your housing, bills & chores in real time.</p>
    <div id="notif-list" style="display:grid;gap:10px;"></div>
  </div>
</div>

<!-- SETTINGS -->
<div id="page-settings" class="page">
  <div class="container section" style="max-width:680px;">
    <h2 class="xbold mb6" data-i18n="set_title">âš™ï¸ Settings</h2>
    <p class="small muted mb28" data-i18n="set_sub">Customize Sakani to your needs.</p>

    <!-- Theme -->
    <div class="card p24 mb16">
      <h3 class="mb16" data-i18n="set_theme">ğŸ¨ Theme</h3>
      <div class="theme-grid" id="theme-grid"></div>
    </div>

    <!-- Font Size -->
    <div class="card p24 mb16">
      <h3 class="mb6" data-i18n="set_textsize">ğŸ”¡ Text Size</h3>
      <p class="small muted mb14" data-i18n="set_textsize_desc">Choose the most comfortable reading size.</p>
      <div class="fs-grid" id="fs-grid"></div>
      <div style="margin-top:14px;padding:13px;border-radius:10px;background:var(--input-bg);border:1px solid var(--border);">
        <p class="bold mb4" data-i18n="set_preview">Preview</p>
        <p class="muted" style="line-height:1.6;font-size:var(--fs);" data-i18n="set_preview_text">Sakani helps you find student housing with AI-powered roommate matching and financial planning.</p>
      </div>
    </div>

    <!-- Accessibility -->
    <div class="card p24 mb16">
      <h3 class="mb4" data-i18n="set_access">â™¿ Accessibility</h3>
      <div id="access-toggles"></div>
    </div>

    <!-- Notifications -->
    <div class="card p24 mb16">
      <h3 class="mb4" data-i18n="set_notifs">ğŸ”” Notifications</h3>
      <div id="notif-toggles"></div>
    </div>

    <!-- Language -->
    <div class="card p24 mb16">
      <h3 class="mb16" data-i18n="set_lang">ğŸŒ Language & Region</h3>
      <div style="display:grid;grid-template-columns:1fr 1fr;gap:12px;">
        <div>
          <label class="field-label" data-i18n="set_language">Language</label>
          <select id="lang-select" onchange="setLanguage(this.value)">
            <option value="en">ğŸ‡¬ğŸ‡§ English</option>
            <option value="fr">ğŸ‡«ğŸ‡· FranÃ§ais</option>
            <option value="ar">ğŸ‡¹ğŸ‡³ Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</option>
          </select>
        </div>
        <div>
          <label class="field-label" data-i18n="set_currency">Currency</label>
          <select id="currency-select">
            <option value="TND">ğŸ‡¹ğŸ‡³ TND</option>
            <option value="EUR">ğŸ‡ªğŸ‡º EUR</option>
            <option value="USD">ğŸ‡ºğŸ‡¸ USD</option>
          </select>
        </div>
      </div>
    </div>

    <!-- Reset -->
    <div class="text-center mt8">
      <button class="btn-g btn-danger" onclick="resetSettings()" data-i18n="set_reset">Reset All Settings</button>
    </div>
  </div>
</div>

<!-- â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ JS â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ -->
<script>
// â”€â”€ TRANSLATIONS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const T = {
en:{
  nav_home:"Home",nav_find:"Find Housing",nav_room:"Roommates",nav_budget:"Budget",
  nav_chore:"Chore Hub",nav_settings:"Settings",nav_start:"Get Started",
  home_badge:"âœ¨ AI-Powered Student Housing â€” Tunisia",
  home_h1:"Find Your <span class='g-text'>Perfect</span> Student Home",
  home_sub:"Smart housing search, AI roommate matching, and financial intelligence â€” built for Tunisian students.",
  home_cta1:"Find My Home â†’",home_cta2:"Browse Listings",
  qs_ph1:"Region or university...",qs_any_budget:"Any Budget",qs_any_type:"Any Type",
  btn_search:"ğŸ” Search",
  stat1:"Student Rooms",stat2:"Verified Listings",stat3:"Avg Safety Score",stat4:"Happy Students",
  feat_title:"Everything You Need",feat_sub:"From discovery to daily living â€” all covered.",
  f1t:"Smart Search",f1d:"Filter by budget, distance, lifestyle & 20+ criteria.",
  f2t:"AI Roommate Match",f2d:"Compatibility engine analyzes 10+ lifestyle factors.",
  f3t:"Financial Intelligence",f3d:"Full monthly cost breakdown â€” no hidden surprises.",
  f4t:"360Â° VR Tours",f4d:"Explore rooms with immersive YouTube VR embeds.",
  f5t:"Chore Harmony",f5d:"AI rotation that respects your exam schedule.",
  f6t:"Verified & Safe",f6d:"Every landlord rated, fraud detection built in.",
  cta_h:"Ready to Find Your Home?",
  cta_sub:"Join 3,200+ students already living smarter across Tunisia.",
  cta_btn:"Start Free â€” Takes 3 Minutes âœ¨",
  ob_title:"Smart Matching Form",ob_s1:"Personal Info",ob_s2:"Lifestyle",
  ob_s3:"Housing Preferences",ob_s4:"Financial Setup",
  ob_uni:"University",ob_year:"Year of Study",ob_region:"Preferred Region",
  ob_roommates:"Number of Roommates",ob_study:"Study Habits",
  ob_relaxed:"Relaxed",ob_spotless:"Spotless",ob_cook:"Cooking Frequency",
  ob_guest:"Guest Tolerance",ob_pers:"Personality",ob_hobbies:"Hobbies",
  ob_furnished:"Furnished",ob_gender:"Gender Policy",ob_must:"Must-Have Features",
  ob_privacy:"ğŸ”’ Cultural/religious preferences can be added to your profile. All data stays private.",
  ob_allowance:"Monthly Allowance (TND)",ob_transport:"Transport",ob_homefreq:"Home Visit Frequency",
  ob_estimate:"ğŸ“Š Estimated Monthly Cost",
  cost_rent:"Rent estimate",cost_bills:"Bills (avg)",cost_trans:"Transport",cost_home:"Hometown trips",cost_total:"Total",
  btn_back:"â† Back",btn_next:"Next â†’",btn_back_list:"Back to Listings",btn_filters:"âš™ï¸ Filters",
  list_title:"Find Housing",list_found:"listings found",
  sort_rating:"By Rating",sort_price:"By Price",sort_safety:"By Safety",filter_region:"Region",
  ob_type:"Type",
  rm_badge:"ğŸ¤ AI Compatibility Engine",rm_title:"Find Your Roommate",
  rm_sub:"AI-powered matching based on lifestyle, budget & personality.",
  rm_match:"match",rm_ai:"ğŸ¤– AI:",
  rm_ai_insight:"You share similar study schedules. Discuss noise boundaries early.",
  rm_msg:"ğŸ’Œ Send Message",rm_profile:"ğŸ‘ View Profile",
  fin_title:"ğŸ’° Budget Planner",fin_sub:"Simulate your real monthly cost of student living.",
  fin_config:"Configure Your Situation",fin_breakdown:"Spending Breakdown",
  fin_used:"used",fin_tips:"ğŸ’¡ Saving Tips",
  fin_low:"Risk: LOW âœ…",fin_med:"Risk: MEDIUM âš ï¸",fin_hi:"Risk: HIGH ğŸš¨",
  ch_title:"ğŸ§¹ Chore Hub",ch_sub:"AI rotation respects your schedule & exam periods.",
  ch_mytasks:"Your Tasks",ch_harmony:"Harmony",ch_pts:"Your Points",ch_exam:"Exam Mode",
  ch_rotation:"Weekly Rotation",ch_leaderboard:"ğŸ† Leaderboard",ch_ai:"ğŸ¤– AI Notes",ch_regen:"ğŸ”„ Regenerate Schedule",
  notif_title:"ğŸ”” Notifications",notif_sub:"AI monitors your housing, bills & chores in real time.",
  set_title:"âš™ï¸ Settings",set_sub:"Customize Sakani to your needs.",
  set_theme:"ğŸ¨ Theme",set_textsize:"ğŸ”¡ Text Size",set_textsize_desc:"Choose the most comfortable reading size.",
  set_preview:"Preview",set_preview_text:"Sakani helps you find student housing with AI-powered roommate matching and financial planning.",
  set_access:"â™¿ Accessibility",set_notifs:"ğŸ”” Notifications",set_lang:"ğŸŒ Language & Region",
  set_language:"Language",set_currency:"Currency",set_reset:"Reset All Settings",
  vr_title:"360Â° Virtual Room Tour",vr_sub:"Drag to explore â€” no headset needed",
  fin_allowance:"Allowance",fin_total:"Total Cost",fin_savings:"Savings",
  btn_viewing:"ğŸ“© Request Viewing",btn_msg_landlord:"ğŸ’¬ Message Landlord",
  btn_unavail:"ğŸ”´ Unavailable",
  tab_overview:"ğŸ“‹ Overview",tab_vr:"ğŸ¬ VR Tour",tab_fin:"ğŸ’° Financials",tab_room:"ğŸ¤ Roommates",
  detail_about:"About This Place",detail_amenities:"Amenities",detail_props:"Property Details",
  detail_risk:"Financial Risk",detail_total:"Est. total/month",
  detail_solo:"Solo Listing",detail_solo_sub:"No roommates â€” it\'s all yours!",
  risk_low:"Great! Save {n} TND/month.",risk_med:"Careful â€” only {n} TND left.",risk_hi:"You\'re {n} TND over budget!",
  access_contrast:"High Contrast",access_contrast_d:"Thicker borders and stronger contrast",
  access_motion:"Reduce Motion",access_motion_d:"Disables animations across the app",
  access_compact:"Compact Mode",access_compact_d:"Reduces spacing for more content",
  access_large:"Large Tap Targets",access_large_d:"Larger buttons for touch screens",
  notif_rent:"Rent Reminders",notif_rent_d:"7, 3 and 1 day before rent is due",
  notif_bills:"Bill Alerts",notif_bills_d:"When estimated bill exceeds 20% above average",
  notif_chores:"Chore Reminders",notif_chores_d:"Morning of your assigned chore",
  notif_matches:"Roommate Matches",notif_matches_d:"When a high-compatibility user joins",
  notif_exam:"Exam Mode",notif_exam_d:"Pause non-urgent notifications during exams",
},

fr:{
  nav_home:"Accueil",nav_find:"Trouver un Logement",nav_room:"Colocataires",nav_budget:"Budget",
  nav_chore:"TÃ¢ches",nav_settings:"ParamÃ¨tres",nav_start:"Commencer",
  home_badge:"âœ¨ Logement Ã‰tudiant IA â€” Tunisie",
  home_h1:"Trouvez votre logement <span class='g-text'>idÃ©al</span>",
  home_sub:"Recherche intelligente, matching colocataires et planification financiÃ¨re â€” pour les Ã©tudiants tunisiens.",
  home_cta1:"Trouver un logement â†’",home_cta2:"Parcourir les annonces",
  qs_ph1:"RÃ©gion ou universitÃ©...",qs_any_budget:"Tout budget",qs_any_type:"Tout type",
  btn_search:"ğŸ” Chercher",
  stat1:"Chambres Ã©tudiantes",stat2:"Annonces vÃ©rifiÃ©es",stat3:"Score sÃ©curitÃ© moy.",stat4:"Ã‰tudiants heureux",
  feat_title:"Tout ce dont vous avez besoin",feat_sub:"De la recherche Ã  la vie quotidienne.",
  f1t:"Recherche intelligente",f1d:"Filtres: budget, distance, style de vie & 20+ critÃ¨res.",
  f2t:"Match Colocataires IA",f2d:"Analyse 10+ facteurs de style de vie.",
  f3t:"Intelligence FinanciÃ¨re",f3d:"CoÃ»t mensuel complet â€” pas de mauvaises surprises.",
  f4t:"Visites VR 360Â°",f4d:"Explorez les chambres avec des vidÃ©os YouTube immersives.",
  f5t:"Harmonie des TÃ¢ches",f5d:"Rotation IA respectant votre planning d'examens.",
  f6t:"VÃ©rifiÃ© et SÃ»r",f6d:"Chaque propriÃ©taire notÃ©, dÃ©tection de fraude intÃ©grÃ©e.",
  cta_h:"PrÃªt Ã  trouver votre logement ?",
  cta_sub:"Rejoignez 3 200+ Ã©tudiants vivant plus intelligemment.",
  cta_btn:"Commencer gratuitement âœ¨",
  ob_title:"Formulaire de Matching Intelligent",ob_s1:"Infos Personnelles",ob_s2:"Style de Vie",
  ob_s3:"PrÃ©fÃ©rences Logement",ob_s4:"Finances",
  ob_uni:"UniversitÃ©",ob_year:"AnnÃ©e d'Ã©tude",ob_region:"RÃ©gion prÃ©fÃ©rÃ©e",
  ob_roommates:"Nombre de colocataires",ob_study:"Habitudes d'Ã©tude",
  ob_relaxed:"DÃ©tendu",ob_spotless:"Impeccable",ob_cook:"FrÃ©quence cuisine",
  ob_guest:"TolÃ©rance invitÃ©s",ob_pers:"PersonnalitÃ©",ob_hobbies:"Loisirs",
  ob_furnished:"MeublÃ©",ob_gender:"Politique de genre",ob_must:"FonctionnalitÃ©s indispensables",
  ob_privacy:"ğŸ”’ PrÃ©fÃ©rences culturelles/religieuses ajoutables Ã  votre profil. DonnÃ©es privÃ©es.",
  ob_allowance:"Allocation mensuelle (TND)",ob_transport:"Transport",ob_homefreq:"Visites Ã  la maison",
  ob_estimate:"ğŸ“Š Estimation coÃ»t mensuel",
  cost_rent:"Loyer estimÃ©",cost_bills:"Charges (moy.)",cost_trans:"Transport",cost_home:"Voyages famille",cost_total:"Total",
  btn_back:"â† Retour",btn_next:"Suivant â†’",btn_back_list:"Retour aux annonces",btn_filters:"âš™ï¸ Filtres",
  list_title:"Trouver un Logement",list_found:"annonces trouvÃ©es",
  sort_rating:"Par note",sort_price:"Par prix",sort_safety:"Par sÃ©curitÃ©",filter_region:"RÃ©gion",ob_type:"Type",
  rm_badge:"ğŸ¤ Moteur de CompatibilitÃ© IA",rm_title:"Trouver un Colocataire",
  rm_sub:"Matching IA basÃ© sur le style de vie, budget et personnalitÃ©.",
  rm_match:"compatibilitÃ©",rm_ai:"ğŸ¤– IA :",
  rm_ai_insight:"Emplois du temps similaires. Discutez des rÃ¨gles de bruit dÃ¨s le dÃ©part.",
  rm_msg:"ğŸ’Œ Envoyer un message",rm_profile:"ğŸ‘ Voir le profil",
  fin_title:"ğŸ’° Planificateur de Budget",fin_sub:"Simulez votre vrai coÃ»t de vie Ã©tudiant.",
  fin_config:"Configurer votre situation",fin_breakdown:"RÃ©partition des dÃ©penses",
  fin_used:"utilisÃ©",fin_tips:"ğŸ’¡ Conseils d'Ã©conomie",
  fin_low:"Risque : FAIBLE âœ…",fin_med:"Risque : MOYEN âš ï¸",fin_hi:"Risque : Ã‰LEVÃ‰ ğŸš¨",
  ch_title:"ğŸ§¹ Centre des TÃ¢ches",ch_sub:"Rotation IA respectant votre emploi du temps.",
  ch_mytasks:"Vos tÃ¢ches",ch_harmony:"Harmonie",ch_pts:"Vos points",ch_exam:"Mode Examens",
  ch_rotation:"Rotation hebdomadaire",ch_leaderboard:"ğŸ† Classement",ch_ai:"ğŸ¤– Notes IA",ch_regen:"ğŸ”„ RÃ©gÃ©nÃ©rer",
  notif_title:"ğŸ”” Notifications",notif_sub:"L'IA surveille votre logement, factures et tÃ¢ches.",
  set_title:"âš™ï¸ ParamÃ¨tres",set_sub:"Personnalisez Sakani selon vos besoins.",
  set_theme:"ğŸ¨ ThÃ¨me",set_textsize:"ğŸ”¡ Taille du texte",set_textsize_desc:"Choisissez la taille la plus confortable.",
  set_preview:"AperÃ§u",set_preview_text:"Sakani vous aide Ã  trouver un logement Ã©tudiant avec matching IA et planification financiÃ¨re.",
  set_access:"â™¿ AccessibilitÃ©",set_notifs:"ğŸ”” Notifications",set_lang:"ğŸŒ Langue & RÃ©gion",
  set_language:"Langue",set_currency:"Devise",set_reset:"RÃ©initialiser",
  vr_title:"Visite Virtuelle 360Â°",vr_sub:"Faites glisser pour explorer â€” pas de casque nÃ©cessaire",
  fin_allowance:"Allocation",fin_total:"CoÃ»t total",fin_savings:"Ã‰conomies",
  btn_viewing:"ğŸ“© Demander une visite",btn_msg_landlord:"ğŸ’¬ Contacter le propriÃ©taire",
  btn_unavail:"ğŸ”´ Non disponible",
  tab_overview:"ğŸ“‹ AperÃ§u",tab_vr:"ğŸ¬ Visite VR",tab_fin:"ğŸ’° Finances",tab_room:"ğŸ¤ Colocataires",
  detail_about:"Ã€ propos",detail_amenities:"Ã‰quipements",detail_props:"DÃ©tails",
  detail_risk:"Risque Financier",detail_total:"CoÃ»t total/mois",
  detail_solo:"Logement solo",detail_solo_sub:"Pas de colocataires â€” tout pour vous !",
  risk_low:"Parfait ! Ã‰conomisez {n} TND/mois.",risk_med:"Attention â€” il reste {n} TND.",risk_hi:"Vous dÃ©passez de {n} TND !",
  access_contrast:"Contraste Ã©levÃ©",access_contrast_d:"Bordures plus Ã©paisses et contraste renforcÃ©",
  access_motion:"RÃ©duire les animations",access_motion_d:"DÃ©sactive les animations",
  access_compact:"Mode compact",access_compact_d:"RÃ©duit l'espacement",
  access_large:"Grandes zones tactiles",access_large_d:"Boutons plus grands pour l'Ã©cran tactile",
  notif_rent:"Rappels de loyer",notif_rent_d:"7, 3 et 1 jour avant l'Ã©chÃ©ance",
  notif_bills:"Alertes factures",notif_bills_d:"Quand la facture dÃ©passe la moyenne",
  notif_chores:"Rappels de tÃ¢ches",notif_chores_d:"Matin du jour assignÃ©",
  notif_matches:"Matches colocataires",notif_matches_d:"Quand un utilisateur trÃ¨s compatible arrive",
  notif_exam:"Mode Examens",notif_exam_d:"Pause des notifications non urgentes pendant les examens",
},

ar:{
  nav_home:"Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©",nav_find:"Ø§Ø¨Ø­Ø« Ø¹Ù† Ø³ÙƒÙ†",nav_room:"Ø§Ù„Ø´Ø±ÙƒØ§Ø¡",nav_budget:"Ø§Ù„Ù…ÙŠØ²Ø§Ù†ÙŠØ©",
  nav_chore:"Ø§Ù„Ø£Ø¹Ù…Ø§Ù„ Ø§Ù„Ù…Ù†Ø²Ù„ÙŠØ©",nav_settings:"Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª",nav_start:"Ø§Ø¨Ø¯Ø£ Ø§Ù„Ø¢Ù†",
  home_badge:"âœ¨ Ù…Ù†ØµØ© Ø§Ù„Ø³ÙƒÙ† Ø§Ù„Ø·Ù„Ø§Ø¨ÙŠ Ø¨Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ â€” ØªÙˆÙ†Ø³",
  home_h1:"Ø§Ø¹Ø«Ø± Ø¹Ù„Ù‰ Ù…Ø³ÙƒÙ†Ùƒ <span class='g-text'>Ø§Ù„Ù…Ø«Ø§Ù„ÙŠ</span>",
  home_sub:"Ø¨Ø­Ø« Ø°ÙƒÙŠ Ø¹Ù† Ø§Ù„Ø³ÙƒÙ†ØŒ ØªÙˆØ§ÙÙ‚ Ø§Ù„Ø´Ø±ÙƒØ§Ø¡ Ø¨Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠØŒ ÙˆØªØ®Ø·ÙŠØ· Ù…Ø§Ù„ÙŠ â€” Ù…ØµÙ…Ù… Ù„Ù„Ø·Ù„Ø§Ø¨ Ø§Ù„ØªÙˆÙ†Ø³ÙŠÙŠÙ†.",
  home_cta1:"Ø£ÙˆØ¬Ø¯ Ù…Ø³ÙƒÙ†ÙŠ â†’",home_cta2:"ØªØµÙØ­ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª",
  qs_ph1:"Ø§Ù„Ù…Ù†Ø·Ù‚Ø© Ø£Ùˆ Ø§Ù„Ø¬Ø§Ù…Ø¹Ø©...",qs_any_budget:"Ø£ÙŠ Ù…ÙŠØ²Ø§Ù†ÙŠØ©",qs_any_type:"Ø£ÙŠ Ù†ÙˆØ¹",
  btn_search:"ğŸ” Ø¨Ø­Ø«",
  stat1:"ØºØ±ÙØ© Ø·Ù„Ø§Ø¨ÙŠØ©",stat2:"Ø¥Ø¹Ù„Ø§Ù†Ø§Øª Ù…ÙˆØ«Ù‚Ø©",stat3:"Ù…ØªÙˆØ³Ø· Ù†Ù‚Ø§Ø· Ø§Ù„Ø£Ù…Ø§Ù†",stat4:"Ø·Ø§Ù„Ø¨ Ø³Ø¹ÙŠØ¯",
  feat_title:"ÙƒÙ„ Ù…Ø§ ØªØ­ØªØ§Ø¬Ù‡",feat_sub:"Ù…Ù† Ø§Ù„Ø¨Ø­Ø« Ø¥Ù„Ù‰ Ø§Ù„Ø­ÙŠØ§Ø© Ø§Ù„ÙŠÙˆÙ…ÙŠØ© â€” ÙƒÙ„ Ø´ÙŠØ¡ Ù‡Ù†Ø§.",
  f1t:"Ø¨Ø­Ø« Ø°ÙƒÙŠ",f1d:"ÙÙ„ØªØ±Ø© Ø­Ø³Ø¨ Ø§Ù„Ù…ÙŠØ²Ø§Ù†ÙŠØ© ÙˆØ§Ù„Ù…Ø³Ø§ÙØ© ÙˆÙ†Ù…Ø· Ø§Ù„Ø­ÙŠØ§Ø© Ùˆ20+ Ù…Ø¹ÙŠØ§Ø±.",
  f2t:"ØªÙˆØ§ÙÙ‚ Ø§Ù„Ø´Ø±ÙƒØ§Ø¡ Ø¨Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ",f2d:"ÙŠØ­Ù„Ù„ Ø§Ù„Ù…Ø­Ø±Ùƒ 10+ Ø¹ÙˆØ§Ù…Ù„ Ù„Ù„ØªÙˆØ§ÙÙ‚.",
  f3t:"Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ù…Ø§Ù„ÙŠ",f3d:"ØªÙØµÙŠÙ„ ÙƒØ§Ù…Ù„ Ù„Ù„ØªÙƒÙ„ÙØ© Ø§Ù„Ø´Ù‡Ø±ÙŠØ© â€” Ù„Ø§ Ù…ÙØ§Ø¬Ø¢Øª.",
  f4t:"Ø¬ÙˆÙ„Ø§Øª Ø§ÙØªØ±Ø§Ø¶ÙŠØ© 360Â°",f4d:"Ø§Ø³ØªÙƒØ´Ù Ø§Ù„ØºØ±Ù Ø¨ÙÙŠØ¯ÙŠÙˆÙ‡Ø§Øª ÙŠÙˆØªÙŠÙˆØ¨ Ø§Ù„ØºØ§Ù…Ø±Ø©.",
  f5t:"ØªÙˆØ§Ø²Ù† Ø§Ù„Ù…Ù‡Ø§Ù… Ø§Ù„Ù…Ù†Ø²Ù„ÙŠØ©",f5d:"ØªÙˆØ²ÙŠØ¹ Ø°ÙƒÙŠ ÙŠØ±Ø§Ø¹ÙŠ Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø§Ù…ØªØ­Ø§Ù†Ø§Øª.",
  f6t:"Ù…ÙˆØ«Ù‚ ÙˆØ¢Ù…Ù†",f6d:"ÙƒÙ„ Ù…Ø§Ù„Ùƒ Ù…ÙÙ‚ÙŠÙÙ‘Ù…ØŒ ÙˆÙƒØ´Ù Ø§Ù„Ø§Ø­ØªÙŠØ§Ù„ Ù…Ø¯Ù…Ø¬.",
  cta_h:"Ù‡Ù„ Ø£Ù†Øª Ù…Ø³ØªØ¹Ø¯ Ù„Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ù…Ø³ÙƒÙ†ÙƒØŸ",
  cta_sub:"+3200 Ø·Ø§Ù„Ø¨ ÙŠØ¹ÙŠØ´ÙˆÙ† Ø¨Ø°ÙƒØ§Ø¡ Ø£ÙƒØ¨Ø± Ø¹Ø¨Ø± ØªÙˆÙ†Ø³.",
  cta_btn:"Ø§Ø¨Ø¯Ø£ Ù…Ø¬Ø§Ù†Ø§Ù‹ â€” 3 Ø¯Ù‚Ø§Ø¦Ù‚ ÙÙ‚Ø· âœ¨",
  ob_title:"Ø§Ø³ØªÙ…Ø§Ø±Ø© Ø§Ù„Ù…Ø·Ø§Ø¨Ù‚Ø© Ø§Ù„Ø°ÙƒÙŠØ©",ob_s1:"Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø´Ø®ØµÙŠØ©",ob_s2:"Ù†Ù…Ø· Ø§Ù„Ø­ÙŠØ§Ø©",
  ob_s3:"ØªÙØ¶ÙŠÙ„Ø§Øª Ø§Ù„Ø³ÙƒÙ†",ob_s4:"Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ù…Ø§Ù„ÙŠ",
  ob_uni:"Ø§Ù„Ø¬Ø§Ù…Ø¹Ø©",ob_year:"Ø§Ù„Ø³Ù†Ø© Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠØ©",ob_region:"Ø§Ù„Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ù…ÙØ¶Ù„Ø©",
  ob_roommates:"Ø¹Ø¯Ø¯ Ø§Ù„Ø´Ø±ÙƒØ§Ø¡",ob_study:"Ø¹Ø§Ø¯Ø§Øª Ø§Ù„Ø¯Ø±Ø§Ø³Ø©",
  ob_relaxed:"Ù…Ø±Ù†",ob_spotless:"Ù†Ø¸ÙŠÙ Ø¬Ø¯Ø§Ù‹",ob_cook:"ØªÙƒØ±Ø§Ø± Ø§Ù„Ø·Ù‡ÙŠ",
  ob_guest:"ØªØ­Ù…Ù„ Ø§Ù„Ø¶ÙŠÙˆÙ",ob_pers:"Ø§Ù„Ø´Ø®ØµÙŠØ©",ob_hobbies:"Ø§Ù„Ù‡ÙˆØ§ÙŠØ§Øª",
  ob_furnished:"Ù…ÙØ±ÙˆØ´",ob_gender:"Ø³ÙŠØ§Ø³Ø© Ø§Ù„Ø¬Ù†Ø³",ob_must:"Ø§Ù„Ù…ÙŠØ²Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©",
  ob_privacy:"ğŸ”’ ÙŠÙ…ÙƒÙ† Ø¥Ø¶Ø§ÙØ© Ø§Ù„ØªÙØ¶ÙŠÙ„Ø§Øª Ø§Ù„Ø«Ù‚Ø§ÙÙŠØ©/Ø§Ù„Ø¯ÙŠÙ†ÙŠØ© Ù„Ù…Ù„ÙÙƒ Ø§Ù„Ø´Ø®ØµÙŠ. Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø®Ø§ØµØ©.",
  ob_allowance:"Ø§Ù„Ù…ØµØ±ÙˆÙ Ø§Ù„Ø´Ù‡Ø±ÙŠ (Ø¯ÙŠÙ†Ø§Ø± ØªÙˆÙ†Ø³ÙŠ)",ob_transport:"ÙˆØ³ÙŠÙ„Ø© Ø§Ù„Ù†Ù‚Ù„",ob_homefreq:"ØªÙƒØ±Ø§Ø± Ø²ÙŠØ§Ø±Ø© Ø§Ù„Ø¨ÙŠØª",
  ob_estimate:"ğŸ“Š Ø§Ù„ØªÙƒÙ„ÙØ© Ø§Ù„Ø´Ù‡Ø±ÙŠØ© Ø§Ù„ØªÙ‚Ø¯ÙŠØ±ÙŠØ©",
  cost_rent:"Ø§Ù„Ø¥ÙŠØ¬Ø§Ø± Ø§Ù„ØªÙ‚Ø¯ÙŠØ±ÙŠ",cost_bills:"Ø§Ù„ÙÙˆØ§ØªÙŠØ± (Ù…ØªÙˆØ³Ø·)",cost_trans:"Ø§Ù„Ù†Ù‚Ù„",cost_home:"Ø±Ø­Ù„Ø§Øª Ø¥Ù„Ù‰ Ø§Ù„Ø¨ÙŠØª",cost_total:"Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹",
  btn_back:"â†’ Ø±Ø¬ÙˆØ¹",btn_next:"Ø§Ù„ØªØ§Ù„ÙŠ â†",btn_back_list:"Ø±Ø¬ÙˆØ¹ Ø¥Ù„Ù‰ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª",btn_filters:"âš™ï¸ ÙÙ„Ø§ØªØ±",
  list_title:"Ø§Ø¨Ø­Ø« Ø¹Ù† Ø³ÙƒÙ†",list_found:"Ø¥Ø¹Ù„Ø§Ù† ÙˆÙØ¬Ø¯",
  sort_rating:"Ø­Ø³Ø¨ Ø§Ù„ØªÙ‚ÙŠÙŠÙ…",sort_price:"Ø­Ø³Ø¨ Ø§Ù„Ø³Ø¹Ø±",sort_safety:"Ø­Ø³Ø¨ Ø§Ù„Ø£Ù…Ø§Ù†",filter_region:"Ø§Ù„Ù…Ù†Ø·Ù‚Ø©",ob_type:"Ø§Ù„Ù†ÙˆØ¹",
  rm_badge:"ğŸ¤ Ù…Ø­Ø±Ùƒ Ø§Ù„ØªÙˆØ§ÙÙ‚ Ø¨Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ",rm_title:"Ø§Ø¹Ø«Ø± Ø¹Ù„Ù‰ Ø´Ø±ÙŠÙƒ Ø³ÙƒÙ†",
  rm_sub:"Ù…Ø·Ø§Ø¨Ù‚Ø© Ø°ÙƒÙŠØ© Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ù†Ù…Ø· Ø§Ù„Ø­ÙŠØ§Ø© ÙˆØ§Ù„Ù…ÙŠØ²Ø§Ù†ÙŠØ© ÙˆØ§Ù„Ø´Ø®ØµÙŠØ©.",
  rm_match:"ØªÙˆØ§ÙÙ‚",rm_ai:"ğŸ¤– Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ:",
  rm_ai_insight:"Ù„Ø¯ÙŠÙƒÙ… Ø¬Ø¯Ø§ÙˆÙ„ Ø¯Ø±Ø§Ø³Ø© Ù…ØªØ´Ø§Ø¨Ù‡Ø©. Ù†Ø§Ù‚Ø´ÙˆØ§ Ø­Ø¯ÙˆØ¯ Ø§Ù„Ø¶ÙˆØ¶Ø§Ø¡ Ù…Ø¨ÙƒØ±Ø§Ù‹.",
  rm_msg:"ğŸ’Œ Ø¥Ø±Ø³Ø§Ù„ Ø±Ø³Ø§Ù„Ø©",rm_profile:"ğŸ‘ Ø¹Ø±Ø¶ Ø§Ù„Ù…Ù„Ù",
  fin_title:"ğŸ’° Ù…Ø®Ø·Ø· Ø§Ù„Ù…ÙŠØ²Ø§Ù†ÙŠØ©",fin_sub:"Ù…Ø­Ø§ÙƒØ§Ø© ØªÙƒÙ„ÙØªÙƒ Ø§Ù„Ø´Ù‡Ø±ÙŠØ© Ø§Ù„ÙØ¹Ù„ÙŠØ© Ù„Ù„Ù…Ø¹ÙŠØ´Ø©.",
  fin_config:"ØªÙ‡ÙŠØ¦Ø© ÙˆØ¶Ø¹Ùƒ",fin_breakdown:"ØªÙˆØ²ÙŠØ¹ Ø§Ù„Ù…ØµØ§Ø±ÙŠÙ",
  fin_used:"Ù…Ø³ØªØ®Ø¯Ù…",fin_tips:"ğŸ’¡ Ù†ØµØ§Ø¦Ø­ Ù„Ù„ØªÙˆÙÙŠØ±",
  fin_low:"Ø§Ù„Ù…Ø®Ø§Ø·Ø±Ø©: Ù…Ù†Ø®ÙØ¶Ø© âœ…",fin_med:"Ø§Ù„Ù…Ø®Ø§Ø·Ø±Ø©: Ù…ØªÙˆØ³Ø·Ø© âš ï¸",fin_hi:"Ø§Ù„Ù…Ø®Ø§Ø·Ø±Ø©: Ø¹Ø§Ù„ÙŠØ© ğŸš¨",
  ch_title:"ğŸ§¹ Ù…Ø±ÙƒØ² Ø§Ù„Ù…Ù‡Ø§Ù…",ch_sub:"ØªÙˆØ²ÙŠØ¹ Ø°ÙƒÙŠ ÙŠØ±Ø§Ø¹ÙŠ Ø¬Ø¯ÙˆÙ„Ùƒ ÙˆØ¯ÙˆØ±Ø§ØªÙƒ Ø§Ù„Ø§Ù…ØªØ­Ø§Ù†ÙŠØ©.",
  ch_mytasks:"Ù…Ù‡Ø§Ù…Ùƒ",ch_harmony:"Ø§Ù„ØªÙˆØ§Ø²Ù†",ch_pts:"Ù†Ù‚Ø§Ø·Ùƒ",ch_exam:"ÙˆØ¶Ø¹ Ø§Ù„Ø§Ù…ØªØ­Ø§Ù†Ø§Øª",
  ch_rotation:"Ø§Ù„ØªÙˆØ²ÙŠØ¹ Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ÙŠ",ch_leaderboard:"ğŸ† ØªØ±ØªÙŠØ¨",ch_ai:"ğŸ¤– Ù…Ù„Ø§Ø­Ø¸Ø§Øª",ch_regen:"ğŸ”„ Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªÙˆØ²ÙŠØ¹",
  notif_title:"ğŸ”” Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª",notif_sub:"Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ ÙŠØ±Ø§Ù‚Ø¨ Ø³ÙƒÙ†Ùƒ ÙˆØ§Ù„ÙÙˆØ§ØªÙŠØ± ÙˆØ§Ù„Ù…Ù‡Ø§Ù….",
  set_title:"âš™ï¸ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª",set_sub:"Ø®ØµØµ Ø³ÙƒÙ†ÙŠ ÙˆÙÙ‚ Ø§Ø­ØªÙŠØ§Ø¬Ø§ØªÙƒ.",
  set_theme:"ğŸ¨ Ø§Ù„Ù…Ø¸Ù‡Ø±",set_textsize:"ğŸ”¡ Ø­Ø¬Ù… Ø§Ù„Ø®Ø·",set_textsize_desc:"Ø§Ø®ØªØ± Ø§Ù„Ø­Ø¬Ù… Ø§Ù„Ø£Ù†Ø³Ø¨ Ù„Ù„Ù‚Ø±Ø§Ø¡Ø©.",
  set_preview:"Ù…Ø¹Ø§ÙŠÙ†Ø©",set_preview_text:"Ø³ÙƒÙ†ÙŠ ÙŠØ³Ø§Ø¹Ø¯Ùƒ ÙÙŠ Ø¥ÙŠØ¬Ø§Ø¯ Ø³ÙƒÙ† Ø·Ù„Ø§Ø¨ÙŠ Ø¨Ù…Ø·Ø§Ø¨Ù‚Ø© Ø°ÙƒÙŠØ© ÙˆØªØ®Ø·ÙŠØ· Ù…Ø§Ù„ÙŠ.",
  set_access:"â™¿ Ø¥Ù…ÙƒØ§Ù†ÙŠØ© Ø§Ù„ÙˆØµÙˆÙ„",set_notifs:"ğŸ”” Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª",set_lang:"ğŸŒ Ø§Ù„Ù„ØºØ© ÙˆØ§Ù„Ù…Ù†Ø·Ù‚Ø©",
  set_language:"Ø§Ù„Ù„ØºØ©",set_currency:"Ø§Ù„Ø¹Ù…Ù„Ø©",set_reset:"Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† ÙƒÙ„ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª",
  vr_title:"Ø¬ÙˆÙ„Ø© Ø§ÙØªØ±Ø§Ø¶ÙŠØ© 360Â°",vr_sub:"Ø§Ø³Ø­Ø¨ Ù„Ù„Ø§Ø³ØªÙƒØ´Ø§Ù â€” Ù„Ø§ Ø­Ø§Ø¬Ø© Ù„Ù†Ø¸Ø§Ø±Ø§Øª",
  fin_allowance:"Ø§Ù„Ù…ØµØ±ÙˆÙ",fin_total:"Ø§Ù„ØªÙƒÙ„ÙØ© Ø§Ù„ÙƒØ§Ù…Ù„Ø©",fin_savings:"Ø§Ù„Ù…Ø¯Ø®Ø±Ø§Øª",
  btn_viewing:"ğŸ“© Ø·Ù„Ø¨ Ù…Ø¹Ø§ÙŠÙ†Ø©",btn_msg_landlord:"ğŸ’¬ Ù…Ø±Ø§Ø³Ù„Ø© Ø§Ù„Ù…Ø§Ù„Ùƒ",
  btn_unavail:"ğŸ”´ ØºÙŠØ± Ù…ØªØ§Ø­",
  tab_overview:"ğŸ“‹ Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø©",tab_vr:"ğŸ¬ Ø¬ÙˆÙ„Ø© Ø§ÙØªØ±Ø§Ø¶ÙŠØ©",tab_fin:"ğŸ’° Ø§Ù„Ù…Ø§Ù„ÙŠØ©",tab_room:"ğŸ¤ Ø§Ù„Ø´Ø±ÙƒØ§Ø¡",
  detail_about:"Ø¹Ù† Ù‡Ø°Ø§ Ø§Ù„Ù…ÙƒØ§Ù†",detail_amenities:"Ø§Ù„Ù…Ø±Ø§ÙÙ‚",detail_props:"ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø¹Ù‚Ø§Ø±",
  detail_risk:"Ø§Ù„ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù…Ø§Ù„ÙŠ",detail_total:"Ø§Ù„ØªÙƒÙ„ÙØ© Ø§Ù„Ø´Ù‡Ø±ÙŠØ©",
  detail_solo:"Ø³ÙƒÙ† Ù…Ù†ÙØ±Ø¯",detail_solo_sub:"Ù„Ø§ Ø´Ø±ÙƒØ§Ø¡ â€” Ø§Ù„Ù…ÙƒØ§Ù† Ù„Ùƒ ÙˆØ­Ø¯Ùƒ!",
  risk_low:"Ù…Ù…ØªØ§Ø²! ÙˆÙØ± {n} Ø¯ÙŠÙ†Ø§Ø± Ø´Ù‡Ø±ÙŠØ§Ù‹.",risk_med:"Ø§Ù†ØªØ¨Ù‡ â€” {n} Ø¯ÙŠÙ†Ø§Ø± ÙÙ‚Ø· Ù…ØªØ¨Ù‚Ù.",risk_hi:"ØªØ¬Ø§ÙˆØ²Øª Ø§Ù„Ù…ÙŠØ²Ø§Ù†ÙŠØ© Ø¨Ù€{n} Ø¯ÙŠÙ†Ø§Ø±!",
  access_contrast:"ØªØ¨Ø§ÙŠÙ† Ø¹Ø§Ù„Ù",access_contrast_d:"Ø­Ø¯ÙˆØ¯ Ø£ÙƒØ«Ø± ÙˆØ¶ÙˆØ­Ø§Ù‹ ÙˆØªØ¨Ø§ÙŠÙ† Ù‚ÙˆÙŠ",
  access_motion:"ØªÙ‚Ù„ÙŠÙ„ Ø§Ù„Ø­Ø±ÙƒØ©",access_motion_d:"ØªØ¹Ø·ÙŠÙ„ Ø§Ù„Ø±Ø³ÙˆÙ… Ø§Ù„Ù…ØªØ­Ø±ÙƒØ©",
  access_compact:"ÙˆØ¶Ø¹ Ù…Ø¶ØºÙˆØ·",access_compact_d:"ØªÙ‚Ù„ÙŠÙ„ Ø§Ù„Ù…Ø³Ø§ÙØ§Øª Ù„Ø¹Ø±Ø¶ Ø§Ù„Ù…Ø²ÙŠØ¯",
  access_large:"Ø£Ù‡Ø¯Ø§Ù Ù„Ù…Ø³ ÙƒØ¨ÙŠØ±Ø©",access_large_d:"Ø£Ø²Ø±Ø§Ø± Ø£ÙƒØ¨Ø± Ù„Ø´Ø§Ø´Ø§Øª Ø§Ù„Ù„Ù…Ø³",
  notif_rent:"ØªØ°ÙƒÙŠØ±Ø§Øª Ø§Ù„Ø¥ÙŠØ¬Ø§Ø±",notif_rent_d:"Ù‚Ø¨Ù„ 7 Ùˆ3 Ùˆ1 ÙŠÙˆÙ… Ù…Ù† Ù…ÙˆØ¹Ø¯ Ø§Ù„Ø¯ÙØ¹",
  notif_bills:"ØªÙ†Ø¨ÙŠÙ‡Ø§Øª Ø§Ù„ÙÙˆØ§ØªÙŠØ±",notif_bills_d:"Ø¹Ù†Ø¯Ù…Ø§ ØªØªØ¬Ø§ÙˆØ² Ø§Ù„ÙØ§ØªÙˆØ±Ø© Ø§Ù„Ù…ØªÙˆØ³Ø· Ø¨Ù€20%",
  notif_chores:"ØªØ°ÙƒÙŠØ±Ø§Øª Ø§Ù„Ù…Ù‡Ø§Ù…",notif_chores_d:"ØµØ¨Ø§Ø­ ÙŠÙˆÙ… Ù…Ù‡Ù…ØªÙƒ",
  notif_matches:"Ù…Ø·Ø§Ø¨Ù‚Ø§Øª Ø§Ù„Ø´Ø±ÙƒØ§Ø¡",notif_matches_d:"Ø¹Ù†Ø¯ Ø§Ù†Ø¶Ù…Ø§Ù… Ù…Ø³ØªØ®Ø¯Ù… Ù…ØªÙˆØ§ÙÙ‚ Ø¬Ø¯Ø§Ù‹",
  notif_exam:"ÙˆØ¶Ø¹ Ø§Ù„Ø§Ù…ØªØ­Ø§Ù†Ø§Øª",notif_exam_d:"Ø¥ÙŠÙ‚Ø§Ù Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª ØºÙŠØ± Ø§Ù„Ø¹Ø§Ø¬Ù„Ø© Ø®Ù„Ø§Ù„ Ø§Ù„Ø§Ù…ØªØ­Ø§Ù†Ø§Øª",
}
};

// â”€â”€ SETTINGS STATE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
let S = {
  theme:"dark", lang:"en", fontSize:"medium", highContrast:false,
  reduceMotion:false, compactMode:false, largeTapTargets:false,
  notifRent:true, notifBills:true, notifChores:true, notifMatches:true, examMode:false,
  currency:"TND"
};
const FS = {small:{fs:"13px",fssm:"11px",fslg:"16px",fsh:"0.88"},medium:{fs:"15px",fssm:"13px",fslg:"18px",fsh:"1"},large:{fs:"17px",fssm:"14.5px",fslg:"20px",fsh:"1.12"},xlarge:{fs:"19px",fssm:"16px",fslg:"22px",fsh:"1.25"}};
const THEMES_DEF = [{k:"dark",icon:"ğŸŒ™",name:"Dark"},{k:"light",icon:"â˜€ï¸",name:"Light"},{k:"warm",icon:"ğŸŒ…",name:"Warm"},{k:"ocean",icon:"ğŸŒŠ",name:"Ocean"},{k:"forest",icon:"ğŸŒ¿",name:"Forest"}];

// â”€â”€ MOCK DATA â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const LISTINGS = [
  {id:1,title:"Modern Studio near ENIT",region:"El Manar, Tunis",rent:450,bills:80,type:"Studio",distanceTime:"10 min walk",rating:4.8,reviews:34,safetyScore:92,furnished:true,internet:"100 Mbps",gender:"Mixed",tags:["Bills Included","Wifi","A/C","Elevator"],verified:true,available:true,image:"https://images.unsplash.com/photo-1555636222-cae831e670b3?w=600&q=80",landlord:"Ahmed Mansouri",landlordRating:4.9,description:"Beautifully furnished studio near ENIT and public transport. Perfect for a focused student lifestyle.",amenities:["Kitchen","Washing Machine","Parking","24h Security"],roommates:[]},
  {id:2,title:"3-Bedroom Shared Flat",region:"Lac 2, Tunis",rent:280,bills:45,type:"Shared",distanceTime:"18 min walk",rating:4.6,reviews:21,safetyScore:88,furnished:true,internet:"50 Mbps",gender:"Male",tags:["Near Metro","Balcony","Quiet Zone"],verified:true,available:true,image:"https://images.unsplash.com/photo-1502672260266-1c1ef2d93688?w=600&q=80",landlord:"Karim Belgaied",landlordRating:4.7,description:"Spacious shared apartment in Lac 2. Two rooms available with great natural light.",amenities:["Shared Kitchen","Balcony","Elevator","Storage"],roommates:[{name:"Yassine B.",faculty:"Engineering",compat:85},{name:"Omar T.",faculty:"Computer Science",compat:78}]},
  {id:3,title:"Cozy Room near FSM",region:"Monastir",rent:200,bills:30,type:"Room",distanceTime:"7 min by bus",rating:4.4,reviews:15,safetyScore:95,furnished:false,internet:"30 Mbps",gender:"Female",tags:["Garden","Quiet","Budget Friendly"],verified:true,available:true,image:"https://images.unsplash.com/photo-1586023492125-27b2c045efd7?w=600&q=80",landlord:"Fatma Riahi",landlordRating:5.0,description:"Quiet, safe room near FSM. Access to private garden. Female residents only.",amenities:["Garden Access","Private Bathroom","Study Desk","Kitchen"],roommates:[]},
  {id:4,title:"Luxury 2BR near ISG",region:"Bardo, Tunis",rent:600,bills:100,type:"Apartment",distanceTime:"4 min walk",rating:4.9,reviews:42,safetyScore:97,furnished:true,internet:"200 Mbps",gender:"Mixed",tags:["Luxury","Gym","Rooftop","Smart Lock"],verified:true,available:true,image:"https://images.unsplash.com/photo-1545324418-cc1a3fa10c00?w=600&q=80",landlord:"Nour Investments",landlordRating:4.8,description:"Premium apartment with rooftop, gym, and smart home features.",amenities:["Gym","Rooftop","Concierge","Smart TV","Dishwasher"],roommates:[]},
  {id:5,title:"Student Residency Sousse",region:"Sousse Centre",rent:180,bills:20,type:"Room",distanceTime:"6 min walk",rating:4.2,reviews:67,safetyScore:85,furnished:true,internet:"25 Mbps",gender:"Mixed",tags:["Budget","Community","Shared Kitchen"],verified:true,available:true,image:"https://images.unsplash.com/photo-1484154218962-a197022b5858?w=600&q=80",landlord:"Student Residences Co.",landlordRating:4.3,description:"Community-oriented housing. Great for making friends and keeping costs low.",amenities:["Shared Kitchen","Common Room","Study Hall","Laundry"],roommates:[]},
  {id:6,title:"Penthouse near ENIM",region:"Monastir",rent:520,bills:90,type:"Apartment",distanceTime:"12 min walk",rating:4.7,reviews:19,safetyScore:94,furnished:true,internet:"150 Mbps",gender:"Mixed",tags:["Penthouse View","Modern","Smart Home"],verified:true,available:false,image:"https://images.unsplash.com/photo-1567767292278-a4f21aa2d36e?w=600&q=80",landlord:"Rima Khelifi",landlordRating:4.9,description:"Stunning penthouse with panoramic city views. Recently renovated.",amenities:["Terrace","Smart Home","Built-in Wardrobe","Parking"],roommates:[]},
];
const ROOMMATES = [
  {id:1,name:"Sara Hadj Ali",faculty:"Computer Science",year:3,university:"ENIT",budget:350,compat:88,av:"SH",avColor:"#7C6AF7",study:"Night Owl",clean:4,pers:"Introvert",hobbies:["Reading","Coding","Gaming"],bio:"Final year CS student. Coding late at night, keeps things tidy.",breakdown:{budget:92,studyHabits:75,cleanliness:85,schedule:60,region:95,personality:80}},
  {id:2,name:"Lina Bouchoucha",faculty:"Architecture",year:2,university:"ENAU",budget:400,compat:74,av:"LB",avColor:"#F5A623",study:"Morning Person",clean:5,pers:"Ambivert",hobbies:["Cooking","Art","Music"],bio:"Architecture student. Keeps the kitchen spotless, loves cooking.",breakdown:{budget:78,studyHabits:55,cleanliness:95,schedule:65,region:70,personality:75}},
  {id:3,name:"Rim Gharbi",faculty:"Sciences",year:1,university:"FSM",budget:300,compat:91,av:"RG",avColor:"#00D4AA",study:"Night Owl",clean:4,pers:"Introvert",hobbies:["Study","Podcasts","Yoga"],bio:"First year FSM student. Always studying. Needs quiet and cleanliness.",breakdown:{budget:88,studyHabits:95,cleanliness:90,schedule:92,region:85,personality:95}},
  {id:4,name:"Ines Tlili",faculty:"Business",year:3,university:"ISG Tunis",budget:500,compat:62,av:"IT",avColor:"#FF6B6B",study:"Morning Person",clean:3,pers:"Extrovert",hobbies:["Sports","Socializing","Travel"],bio:"Business student. Loves a social atmosphere, often has friends over.",breakdown:{budget:65,studyHabits:50,cleanliness:60,schedule:55,region:72,personality:70}},
];
const CHORES = [
  {id:1,name:"Vacuum Living Room",icon:"ğŸ§¹",freq:"2x/week",assignee:"Sara",points:10,done:true},
  {id:2,name:"Clean Bathroom",icon:"ğŸš¿",freq:"Weekly",assignee:"You",points:20,done:false},
  {id:3,name:"Kitchen Deep Clean",icon:"ğŸ½",freq:"Weekly",assignee:"Lina",points:25,done:true},
  {id:4,name:"Take Out Trash",icon:"ğŸ—‘",freq:"3x/week",assignee:"You",points:8,done:false},
  {id:5,name:"Grocery Run",icon:"ğŸ›’",freq:"Weekly",assignee:"Sara",points:15,done:false},
  {id:6,name:"Mop Floors",icon:"ğŸª£",freq:"Weekly",assignee:"You",points:18,done:false},
];
const NOTIFS = [
  {id:1,title:"Rent Due in 3 Days",desc:"Your rent of 450 TND is due on Feb 15",time:"2h ago",icon:"ğŸ ",urgent:true},
  {id:2,title:"Electricity Bill Alert",desc:"Expected bill: 85 TND (15% above average)",time:"5h ago",icon:"âš¡",urgent:true},
  {id:3,title:"Chore Reminder",desc:"Bathroom cleaning scheduled for today",time:"8h ago",icon:"ğŸ§¹",urgent:false},
  {id:4,title:"New Roommate Match!",desc:"Rim Gharbi â€” 91% compatible with you",time:"2d ago",icon:"ğŸ¤",urgent:false},
];

let currentDetailId = null;
let obCurrentStep = 1;
let hobbiesSelected = [];
let featuresSelected = [];

// â”€â”€ PAGE NAV â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function goPage(id){
  document.querySelectorAll('.page').forEach(p=>p.classList.remove('active'));
  const pg = document.getElementById('page-'+id);
  if(pg){ pg.classList.add('active'); pg.scrollIntoView?pg.scrollTop=0:null; }
  window.scrollTo(0,0);
  // update nav active
  document.querySelectorAll('.nl').forEach(el=>el.classList.toggle('on',el.dataset.page===id));
  document.querySelectorAll('.mob-tab').forEach(el=>el.classList.toggle('on',el.dataset.page===id));
  // render pages on visit
  if(id==='listings') renderListings();
  if(id==='roommates') renderRoommates();
  if(id==='finance') renderFinance();
  if(id==='chores') renderChores();
  if(id==='notifications') renderNotifications();
  if(id==='settings') renderSettings();
}

// â”€â”€ TRANSLATIONS APPLY â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function t(key){ return (T[S.lang]||T.en)[key]||(T.en[key]||key); }

function applyTranslations(){
  const lang = S.lang;
  const isAr = lang==='ar';
  document.documentElement.lang = lang;
  document.documentElement.dir  = isAr?'rtl':'ltr';
  document.body.style.fontFamily = isAr ? "'Cairo',sans-serif" : "'DM Sans',sans-serif";
  document.querySelectorAll('[data-i18n]').forEach(el=>{
    const key = el.dataset.i18n;
    const val = t(key);
    if(val) el.innerHTML = val;
  });
  document.querySelectorAll('[data-i18n-ph]').forEach(el=>{
    const key = el.dataset.i18nPh;
    const val = t(key);
    if(val) el.placeholder = val;
  });
}

// â”€â”€ THEME â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function setTheme(th){
  S.theme = th;
  document.body.dataset.theme = th;
  // update quick-toggle icon
  const isDark = (th==='dark'||th==='ocean'||th==='forest'||th==='warm');
  const icon = document.getElementById('theme-icon');
  if(icon){
    icon.innerHTML = isDark
      ? '<circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/>'
      : '<path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/>';
  }
  renderSettings();
}

function quickThemeToggle(){
  const order = ['dark','light','warm','ocean','forest'];
  const idx = order.indexOf(S.theme);
  setTheme(order[(idx+1)%order.length]);
}

// â”€â”€ FONT SIZE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function setFontSize(sz){
  S.fontSize = sz;
  const f = FS[sz]||FS.medium;
  const r = document.documentElement.style;
  r.setProperty('--fs',    f.fs);
  r.setProperty('--fs-sm', f.fssm);
  r.setProperty('--fs-lg', f.fslg);
  r.setProperty('--fs-h',  f.fsh);
  renderSettings();
}

// â”€â”€ ACCESSIBILITY â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function applyAccessibility(){
  const b = document.body;
  // High contrast
  if(S.highContrast){ b.style.setProperty('--border','rgba(255,255,255,0.22)'); }
  else { b.style.removeProperty('--border'); }
  // Compact
  if(S.compactMode){
    b.style.setProperty('--radius','11px');
    b.style.setProperty('--radius-sm','7px');
  } else {
    b.style.removeProperty('--radius');
    b.style.removeProperty('--radius-sm');
  }
  // Large targets
  document.querySelectorAll('.btn-p,.btn-g,.nl,.mob-tab').forEach(el=>{
    el.style.minHeight = S.largeTapTargets?'48px':'';
  });
}

// â”€â”€ LANGUAGE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function setLanguage(lang){
  S.lang = lang;
  applyTranslations();
  const isAr = lang==='ar';
  // force re-render active page
  const active = document.querySelector('.page.active');
  if(active) active.classList.add('anim-fade');
}

// â”€â”€ SETTINGS RENDER â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function renderSettings(){
  // Theme grid
  const tg = document.getElementById('theme-grid');
  if(tg){
    tg.innerHTML = THEMES_DEF.map(th=>`
      <button class="theme-tile${S.theme===th.k?' on':''}" onclick="setTheme('${th.k}')">
        <div class="theme-tile-icon">${th.icon}</div>
        <div class="theme-tile-label">${th.name}</div>
        ${S.theme===th.k?'<div style="width:18px;height:3px;border-radius:2px;background:var(--accent);margin:5px auto 0;"></div>':''}
      </button>`).join('');
  }

  // Font size grid
  const fg = document.getElementById('fs-grid');
  if(fg){
    const labels = {small:'Small',medium:'Medium',large:'Large',xlarge:'X-Large'};
    const sizes  = {small:'13px',medium:'16px',large:'19px',xlarge:'23px'};
    fg.innerHTML = Object.keys(FS).map(k=>`
      <button class="fs-tile${S.fontSize===k?' on':''}" onclick="setFontSize('${k}')">
        <div style="font-family:var(--font-head);font-weight:800;font-size:${sizes[k]};color:${S.fontSize===k?'var(--accent)':'var(--muted)'};">Aa</div>
        <div style="font-size:11px;color:${S.fontSize===k?'var(--accent)':'var(--muted)'};margin-top:4px;font-weight:600;">${labels[k]}</div>
      </button>`).join('');
  }

  // Access toggles
  const accessItems = [
    {k:'highContrast',   lk:'access_contrast', dk:'access_contrast_d'},
    {k:'reduceMotion',   lk:'access_motion',   dk:'access_motion_d'},
    {k:'compactMode',    lk:'access_compact',  dk:'access_compact_d'},
    {k:'largeTapTargets',lk:'access_large',    dk:'access_large_d'},
  ];
  const at = document.getElementById('access-toggles');
  if(at) at.innerHTML = accessItems.map(item=>buildToggleRow(item.k, t(item.lk), t(item.dk))).join('');

  // Notif toggles
  const notifItems = [
    {k:'notifRent',   lk:'notif_rent',    dk:'notif_rent_d'},
    {k:'notifBills',  lk:'notif_bills',   dk:'notif_bills_d'},
    {k:'notifChores', lk:'notif_chores',  dk:'notif_chores_d'},
    {k:'notifMatches',lk:'notif_matches', dk:'notif_matches_d'},
    {k:'examMode',    lk:'notif_exam',    dk:'notif_exam_d'},
  ];
  const nt = document.getElementById('notif-toggles');
  if(nt) nt.innerHTML = notifItems.map(item=>buildToggleRow(item.k, t(item.lk), t(item.dk))).join('');

  // Language select
  const ls = document.getElementById('lang-select');
  if(ls) ls.value = S.lang;
  const cs = document.getElementById('currency-select');
  if(cs) cs.value = S.currency;
}

function buildToggleRow(key, label, desc){
  const on = S[key];
  return `<div class="setting-row">
    <div class="setting-info">
      <div class="setting-label">${label}</div>
      ${desc?`<div class="setting-desc">${desc}</div>`:''}
    </div>
    <button class="tog" style="background:${on?'var(--accent)':'var(--border)'};" onclick="toggleSetting('${key}')">
      <div class="thumb" style="left:${on?'21px':'3px'};"></div>
    </button>
  </div>`;
}

function toggleSetting(key){
  S[key] = !S[key];
  applyAccessibility();
  renderSettings();
}

function resetSettings(){
  S = {theme:"dark",lang:"en",fontSize:"medium",highContrast:false,reduceMotion:false,compactMode:false,largeTapTargets:false,notifRent:true,notifBills:true,notifChores:true,notifMatches:true,examMode:false,currency:"TND"};
  setTheme('dark');
  setFontSize('medium');
  setLanguage('en');
  applyAccessibility();
  renderSettings();
}

// â”€â”€ LISTINGS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function toggleFilters(){
  const fp = document.getElementById('filter-panel');
  fp.style.display = fp.style.display==='none'?'block':'none';
}

function renderListings(){
  const maxRent = parseInt(document.getElementById('filter-rent')?.value||700);
  const type    = document.getElementById('filter-type')?.value||'All';
  const region  = (document.getElementById('filter-region')?.value||'').toLowerCase();
  const sort    = document.getElementById('list-sort')?.value||'rating';

  let filtered = LISTINGS.filter(l=>
    l.rent<=maxRent &&
    (type==='All'||l.type===type) &&
    (!region||l.region.toLowerCase().includes(region))
  ).sort((a,b)=>sort==='price'?a.rent-b.rent:sort==='safety'?b.safetyScore-a.safetyScore:b.rating-a.rating);

  const cnt = document.getElementById('list-count');
  if(cnt) cnt.textContent = filtered.length;

  const grid = document.getElementById('listings-grid');
  if(!grid) return;
  grid.innerHTML = filtered.map(l=>`
    <div class="card card-hover" style="overflow:hidden;cursor:pointer;" onclick="openDetail(${l.id})">
      <div class="listing-img">
        <img src="${l.image}" alt="${l.title}" onerror="this.src='https://images.unsplash.com/photo-1502672260266-1c1ef2d93688?w=600&q=80'" loading="lazy">
        <div class="img-overlay"></div>
        <div style="position:absolute;top:10px;left:10px;display:flex;gap:6px;flex-wrap:wrap;">
          ${l.verified?`<span class="badge" style="background:rgba(34,197,94,.85);color:#fff;">âœ“ Verified</span>`:''}
          ${!l.available?`<span class="badge" style="background:rgba(255,107,107,.85);color:#fff;">Taken</span>`:''}
        </div>
        <div style="position:absolute;bottom:10px;left:10px;">
          <span class="badge" style="background:rgba(0,0,0,.65);color:#fff;">ğŸ“ ${l.distanceTime}</span>
        </div>
      </div>
      <div style="padding:15px 17px;">
        <div style="display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:7px;">
          <h4 style="line-height:1.3;margin-right:10px;">${l.title}</h4>
          <div style="text-align:right;flex-shrink:0;">
            <div style="font-family:var(--font-head);font-weight:800;font-size:1.25em;color:var(--accent);line-height:1;">${l.rent}</div>
            <div class="small muted">TND/mo</div>
          </div>
        </div>
        <p class="small muted" style="margin-bottom:9px;">ğŸ“ ${l.region}</p>
        <div style="display:flex;flex-wrap:wrap;gap:5px;margin-bottom:11px;">
          ${l.tags.slice(0,3).map(tg=>`<span class="tag">${tg}</span>`).join('')}
        </div>
        <div style="display:flex;justify-content:space-between;align-items:center;padding-top:10px;border-top:1px solid var(--border);font-size:.8em;">
          <div style="display:flex;gap:10px;color:var(--muted);">
            <span>â­ ${l.rating}</span>
            <span>ğŸ›¡ï¸ ${l.safetyScore}%</span>
          </div>
          <span class="badge badge-sky">${l.type}</span>
        </div>
      </div>
    </div>`).join('');
}

// â”€â”€ DETAIL â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function openDetail(id){
  currentDetailId = id;
  const l = LISTINGS.find(x=>x.id===id);
  if(!l) return;
  goPage('detail');
  renderDetail(l, 'overview');
}

function renderDetail(l, tab){
  const total = l.rent + l.bills + 45;
  const saving = 900 - (total + 40);
  const risk = saving<0?'HIGH':saving<100?'MEDIUM':'LOW';
  const riskColor = risk==='LOW'?'var(--green)':risk==='MEDIUM'?'var(--amber)':'var(--coral)';
  const riskIcon = risk==='LOW'?'âœ…':risk==='HIGH'?'ğŸš¨':'âš ï¸';

  const tabs = ['overview','vr-tour','financials','roommates'];
  const tabLabels = [t('tab_overview'),t('tab_vr'),t('tab_fin'),t('tab_room')];

  let tabContent = '';
  if(tab==='overview'){
    tabContent = `
      <div class="card p22 mb16"><h4 class="mb10">${t('detail_about')}</h4><p class="muted small" style="line-height:1.7;">${l.description}</p></div>
      <div class="card p22"><h4 class="mb14">${t('detail_amenities')}</h4>
        <div style="display:grid;grid-template-columns:repeat(auto-fit,minmax(130px,1fr));gap:8px;">
          ${l.amenities.map(a=>`<div style="display:flex;align-items:center;gap:7px;padding:8px 11px;background:color-mix(in srgb,var(--accent) 6%,transparent);border-radius:8px;border:1px solid color-mix(in srgb,var(--accent) 13%,transparent);font-size:.85em;">âœ“ ${a}</div>`).join('')}
        </div>
      </div>`;
  } else if(tab==='vr-tour'){
    tabContent = `<div class="card p22">
      <div style="display:flex;align-items:center;gap:10px;margin-bottom:16px;">
        <div style="width:40px;height:40px;border-radius:10px;background:linear-gradient(135deg,var(--violet),var(--sky));display:flex;align-items:center;justify-content:center;font-size:18px;flex-shrink:0;">ğŸ¬</div>
        <div><h4 style="margin:0;">${t('vr_title')}</h4><p class="small muted" style="margin-top:2px;">${t('vr_sub')}</p></div>
      </div>
      <div class="vr-wrap mb16">
        <iframe src="https://www.youtube.com/embed/pMsvr55cTZ0?modestbranding=1&rel=0" title="360 VR Tour" allow="accelerometer;autoplay;clipboard-write;encrypted-media;gyroscope;picture-in-picture" allowfullscreen></iframe>
      </div>
      <div style="display:grid;grid-template-columns:repeat(3,1fr);gap:10px;">
        <div class="card p12 text-center"><div style="font-size:20px;margin-bottom:5px;">ğŸŒ…</div><div style="font-weight:600;font-size:.82em;">Morning Light</div><div class="small muted" style="margin-top:2px;">Simulated</div></div>
        <div class="card p12 text-center"><div style="font-size:20px;margin-bottom:5px;">ğŸ“</div><div style="font-weight:600;font-size:.82em;">Dimensions</div><div class="small muted" style="margin-top:2px;">Virtual</div></div>
        <div class="card p12 text-center"><div style="font-size:20px;margin-bottom:5px;">ğŸ”Š</div><div style="font-weight:600;font-size:.82em;">Noise</div><div class="small muted" style="margin-top:2px;">Low</div></div>
      </div>
    </div>`;
  } else if(tab==='financials'){
    const items = [
      {l:'Rent',a:l.rent,c:'var(--accent)'},{l:'Electricity',a:45,c:'var(--amber)'},
      {l:'Water',a:15,c:'var(--sky)'},{l:'Internet',a:20,c:'var(--violet)'},
      {l:'Transport',a:45,c:'var(--green)'},{l:'Hometown Trips',a:60,c:'var(--coral)'},
    ];
    tabContent = `
      <div class="card p22 mb16">
        <h4 class="mb16">${t('detail_risk')}</h4>
        ${items.map(item=>`
          <div style="margin-bottom:12px;">
            <div style="display:flex;justify-content:space-between;margin-bottom:4px;font-size:.87em;"><span class="muted">${item.l}</span><strong style="color:${item.c};">${item.a} TND</strong></div>
            <div class="prog-track"><div class="prog-fill" style="width:${(item.a/(total+40))*100}%;background:linear-gradient(90deg,${item.c},color-mix(in srgb,${item.c} 55%,transparent));"></div></div>
          </div>`).join('')}
        <div style="display:flex;justify-content:space-between;padding-top:12px;border-top:1px solid var(--border);">
          <strong>Total</strong><strong style="color:var(--accent);font-size:1.1em;">${total+40} TND/mo</strong>
        </div>
      </div>
      <div class="card p22">
        <div style="display:grid;grid-template-columns:repeat(3,1fr);gap:10px;margin-bottom:14px;">
          <div class="card p12 text-center"><div class="small muted mb4">${t('fin_allowance')}</div><div style="font-family:var(--font-head);font-weight:800;color:var(--green);">900</div></div>
          <div class="card p12 text-center"><div class="small muted mb4">${t('fin_total')}</div><div style="font-family:var(--font-head);font-weight:800;color:var(--amber);">${total+40}</div></div>
          <div class="card p12 text-center"><div class="small muted mb4">${t('fin_savings')}</div><div style="font-family:var(--font-head);font-weight:800;color:${saving>=0?'var(--green)':'var(--coral)'};">${saving}</div></div>
        </div>
        <div style="padding:12px;border-radius:10px;background:color-mix(in srgb,${riskColor} 7%,transparent);border:1px solid color-mix(in srgb,${riskColor} 22%,transparent);font-size:.85em;">
          ${riskIcon} <strong style="color:${riskColor};">${t('fin_'+risk.toLowerCase())}</strong>
          <p class="muted" style="margin-top:4px;line-height:1.5;">${t('risk_'+risk.toLowerCase()).replace('{n}',Math.abs(saving))}</p>
        </div>
      </div>`;
  } else if(tab==='roommates'){
    if(l.roommates.length>0){
      tabContent = `<div class="card p22"><h4 class="mb14">Current Roommates</h4>
        ${l.roommates.map(r=>`
          <div style="display:flex;align-items:center;gap:12px;padding:11px;background:var(--input-bg);border-radius:10px;margin-bottom:8px;border:1px solid var(--border);">
            <div class="avatar" style="width:36px;height:36px;background:var(--violet);color:var(--bg);font-size:.82em;">${r.name.split(' ').map(n=>n[0]).join('')}</div>
            <div style="flex:1;"><div style="font-weight:600;font-size:.9em;">${r.name}</div><div class="small muted">${r.faculty}</div></div>
            <div style="text-align:right;"><div style="font-family:var(--font-head);font-weight:700;color:var(--accent);">${r.compat}%</div><div class="small muted">${t('rm_match')}</div></div>
          </div>`).join('')}
      </div>`;
    } else {
      tabContent = `<div class="card p24 text-center"><div style="font-size:40px;margin-bottom:12px;">ğŸ </div><h4 class="mb8">${t('detail_solo')}</h4><p class="small muted">${t('detail_solo_sub')}</p></div>`;
    }
  }

  const html = `
    <!-- Hero -->
    <div style="border-radius:18px;overflow:hidden;position:relative;aspect-ratio:21/9;margin-bottom:22px;">
      <img src="${l.image}" alt="${l.title}" style="width:100%;height:100%;object-fit:cover;" onerror="this.src='https://images.unsplash.com/photo-1502672260266-1c1ef2d93688?w=800&q=80'">
      <div style="position:absolute;inset:0;background:linear-gradient(to right,rgba(0,0,0,.7) 0%,transparent 55%);"></div>
      <div style="position:absolute;bottom:22px;left:20px;">
        <div style="display:flex;gap:7px;margin-bottom:9px;">
          ${l.verified?`<span class="badge badge-green">âœ“ Verified</span>`:''}
          <span class="badge badge-sky">${l.type}</span>
        </div>
        <h3 style="color:#fff;max-width:440px;font-weight:800;">${l.title}</h3>
        <p style="color:rgba(255,255,255,.7);margin-top:5px;font-size:.88em;">ğŸ“ ${l.region} â€” ${l.distanceTime}</p>
      </div>
      <div style="position:absolute;top:18px;right:18px;font-family:var(--font-head);font-size:2em;font-weight:900;color:var(--accent);">${l.rent} <span style="font-size:.35em;color:rgba(255,255,255,.6);">TND/mo</span></div>
    </div>

    <div style="display:grid;grid-template-columns:1fr 300px;gap:20px;" class="grid-sidebar">
      <div>
        <!-- Tabs -->
        <div class="tab-bar">
          ${tabs.map((tb,i)=>`<button class="tab-btn${tab===tb?' on':''}" onclick="renderDetail(LISTINGS.find(x=>x.id===${l.id}),'${tb}')">${tabLabels[i]}</button>`).join('')}
        </div>
        <div class="anim-fade">${tabContent}</div>
      </div>
      <!-- Sidebar -->
      <div class="sidebar-sticky">
        <div class="card p22">
          <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:16px;">
            <div><div style="font-family:var(--font-head);font-weight:900;font-size:1.8em;color:var(--accent);line-height:1;">${l.rent}</div><div class="small muted">TND / month</div></div>
            <div style="text-align:right;"><div style="color:var(--amber);">â­â­â­â­â­</div><div class="small muted" style="margin-top:2px;">${l.reviews} reviews</div></div>
          </div>
          <div style="display:grid;gap:7px;margin-bottom:14px;font-size:.85em;color:var(--muted);">
            <div>ğŸ“ ${l.distanceTime}</div>
            <div>ğŸ›¡ï¸ Safety: ${l.safetyScore}%</div>
            <div>ğŸ“¶ ${l.internet}</div>
            <div>ğŸ·ï¸ ${l.furnished?'Furnished':'Unfurnished'}</div>
          </div>
          <div style="padding:10px 13px;background:color-mix(in srgb,var(--accent) 7%,transparent);border-radius:9px;border:1px solid color-mix(in srgb,var(--accent) 18%,transparent);margin-bottom:14px;">
            <div class="small muted">${t('detail_total')}</div>
            <div style="font-family:var(--font-head);font-weight:800;color:var(--amber);font-size:1.2em;">${total+40} TND</div>
          </div>
          <button class="btn-p w-full" style="justify-content:center;margin-bottom:9px;" ${!l.available?'disabled':''} onclick="alert('Viewing request sent!')">
            ${l.available?t('btn_viewing'):t('btn_unavail')}
          </button>
          <button class="btn-g w-full" style="justify-content:center;" onclick="alert('Message sent!')">
            ${t('btn_msg_landlord')}
          </button>
          <div class="text-center small muted mt12">â­ ${l.landlord} (${l.landlordRating}/5)</div>
        </div>
      </div>
    </div>`;

  document.getElementById('detail-content').innerHTML = html;
}

// â”€â”€ ROOMMATES â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
let selectedRm = null;
function renderRoommates(){
  const list = document.getElementById('rm-list');
  if(!list) return;
  const sorted = [...ROOMMATES].sort((a,b)=>b.compat-a.compat);
  list.innerHTML = sorted.map(rm=>{
    const cc = rm.compat>=85?'var(--green)':rm.compat>=70?'var(--amber)':'var(--coral)';
    return `<div class="card card-hover" style="padding:20px;cursor:pointer;margin-bottom:13px;border:1px solid ${selectedRm===rm.id?'var(--accent)':'var(--border)'};" onclick="selectRm(${rm.id})">
      <div style="display:flex;gap:13px;align-items:flex-start;">
        <div class="avatar" style="width:54px;height:54px;background:${rm.avColor};color:var(--bg);font-size:1em;">${rm.av}</div>
        <div style="flex:1;">
          <div style="display:flex;justify-content:space-between;align-items:flex-start;flex-wrap:wrap;gap:8px;">
            <div><h4 style="margin-bottom:3px;">${rm.name}</h4><p class="small muted">${rm.faculty} Â· ${rm.university}</p></div>
            <div style="width:56px;height:56px;border-radius:50%;background:var(--card);border:3px solid ${cc};display:flex;align-items:center;justify-content:center;flex-direction:column;flex-shrink:0;">
              <span style="font-family:var(--font-head);font-weight:800;font-size:1.05em;color:${cc};line-height:1;">${rm.compat}</span>
              <span class="small muted" style="font-size:.6em;">%</span>
            </div>
          </div>
          <p class="small muted" style="margin-top:7px;line-height:1.5;">${rm.bio}</p>
          <div style="display:flex;flex-wrap:wrap;gap:6px;margin-top:9px;">
            <span class="tag">ğŸŒ™ ${rm.study}</span>
            <span class="tag">ğŸ’° ${rm.budget} TND</span>
            <span class="tag">${rm.pers==='Introvert'?'ğŸ¤«':'ğŸ‰'} ${rm.pers}</span>
          </div>
        </div>
      </div>
    </div>`;
  }).join('');
}

function selectRm(id){
  selectedRm = selectedRm===id?null:id;
  renderRoommates();
  const det = document.getElementById('rm-detail');
  const layout = document.getElementById('rm-layout');
  if(!det||!layout) return;
  if(!selectedRm){ det.style.display='none'; return; }
  const rm = ROOMMATES.find(r=>r.id===id);
  if(!rm) return;
  const cc = rm.compat>=85?'var(--green)':rm.compat>=70?'var(--amber)':'var(--coral)';
  det.style.display='block';
  det.innerHTML=`<div class="card p24 sidebar-sticky anim-fade">
    <div class="text-center mb18">
      <div class="avatar" style="width:70px;height:70px;background:${rm.avColor};color:var(--bg);font-size:1.4em;margin:0 auto 10px;">${rm.av}</div>
      <h4>${rm.name}</h4>
      <p class="small muted">${rm.faculty} Â· ${rm.university}</p>
      <div style="margin-top:9px;"><span style="font-family:var(--font-head);font-weight:900;font-size:2em;color:${cc};">${rm.compat}%</span><p class="small muted">${t('rm_match')}</p></div>
    </div>
    <h4 class="small mb11" style="font-size:.88em;">Breakdown</h4>
    ${Object.entries(rm.breakdown).map(([k,v])=>{
      const c2 = v>=85?'var(--green)':v>=70?'var(--amber)':'var(--coral)';
      return `<div style="margin-bottom:10px;">
        <div style="display:flex;justify-content:space-between;margin-bottom:4px;font-size:.82em;"><span class="muted">${k.replace(/([A-Z])/g,' $1')}</span><strong style="color:${c2};">${v}%</strong></div>
        <div class="prog-track"><div class="prog-fill" style="width:${v}%;background:linear-gradient(90deg,${c2},color-mix(in srgb,${c2} 55%,transparent));"></div></div>
      </div>`;
    }).join('')}
    <div style="padding:11px;border-radius:9px;background:color-mix(in srgb,var(--accent) 6%,transparent);border:1px solid color-mix(in srgb,var(--accent) 15%,transparent);margin:14px 0;font-size:.82em;color:var(--muted);line-height:1.5;">
      ${t('rm_ai')} <strong style="color:var(--text);">${t('rm_ai_insight')}</strong>
    </div>
    <button class="btn-p w-full mb8" style="justify-content:center;" onclick="alert('Message sent!')">${t('rm_msg')}</button>
    <button class="btn-g w-full" style="justify-content:center;" onclick="alert('Profile viewed!')">${t('rm_profile')}</button>
  </div>`;
}

// â”€â”€ FINANCE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function renderFinance(){
  updateFinance();
  const tips = ["Split rent to save ~35%","Monthly bus pass = 40% off","Cook 4x/week vs eating out","Bundle internet with roommates"];
  const ft = document.getElementById('fin-tips');
  if(ft) ft.innerHTML = tips.map(tip=>`<div style="padding:8px 10px;background:var(--input-bg);border-radius:8px;border:1px solid var(--border);font-size:.8em;color:var(--muted);margin-bottom:7px;line-height:1.4;">ğŸ’¡ ${tip}</div>`).join('');
}

function updateFinance(){
  const allow   = parseInt(document.getElementById('fin-allow')?.value||900);
  const rent    = parseInt(document.getElementById('fin-rent')?.value||350);
  const transCost = parseInt(document.getElementById('fin-transport')?.value||30);
  const homeCost  = parseInt(document.getElementById('fin-home')?.value||50);
  const extras  = parseInt(document.getElementById('fin-extras')?.value||50);
  const elv = document.getElementById('fin-allow-val'); if(elv) elv.textContent=allow+' TND';
  const rlv = document.getElementById('fin-rent-val');  if(rlv) rlv.textContent=rent+' TND';
  const exv = document.getElementById('fin-extras-val');if(exv) exv.textContent=extras+' TND';

  const total   = rent+45+15+20+transCost+homeCost+extras;
  const savings = allow-total;
  const pct     = Math.min(Math.round((total/allow)*100),110);
  const risk    = savings<0?'HIGH':savings<100?'MEDIUM':'LOW';
  const rc      = risk==='LOW'?'var(--green)':risk==='MEDIUM'?'var(--amber)':'var(--coral)';

  // Donut
  const ring = document.getElementById('donut-ring');
  if(ring){
    const r=54; const circ=2*Math.PI*r;
    ring.style.stroke = rc;
    ring.style.strokeDashoffset = circ*(1-Math.min(total/allow,1));
  }
  const pctEl = document.getElementById('fin-pct'); if(pctEl) pctEl.textContent=pct+'%';

  // Summary
  const sum = document.getElementById('fin-summary');
  if(sum) sum.innerHTML=[
    {l:t('fin_allowance'),v:allow+' TND',c:'var(--green)'},
    {l:t('fin_total'),    v:total+' TND',c:'var(--accent)'},
    {l:t('fin_savings'),  v:savings+' TND',c:savings>=0?'var(--green)':'var(--coral)'}
  ].map(r=>`<div style="display:flex;justify-content:space-between;padding:9px 11px;background:var(--input-bg);border-radius:9px;border:1px solid var(--border);font-size:.87em;">
    <span class="muted">${r.l}</span><strong style="color:${r.c};">${r.v}</strong>
  </div>`).join('');

  // Risk box
  const rk = document.getElementById('fin-risk');
  if(rk) rk.innerHTML=`<strong style="color:${rc};">${t('fin_'+risk.toLowerCase())}</strong><p class="muted" style="margin-top:4px;line-height:1.5;font-size:.85em;">${t('risk_'+risk.toLowerCase()).replace('{n}',Math.abs(savings))}</p>`;
  if(rk){ rk.style.background=`color-mix(in srgb,${rc} 7%,transparent)`; rk.style.border=`1px solid color-mix(in srgb,${rc} 22%,transparent)`; }

  // Breakdown bars
  const bars = document.getElementById('fin-bars');
  if(!bars) return;
  const items=[
    {l:'Rent',a:rent,c:'var(--accent)'},{l:'Electricity',a:45,c:'var(--amber)'},
    {l:'Water',a:15,c:'var(--sky)'},{l:'Internet',a:20,c:'var(--violet)'},
    {l:'Transport',a:transCost,c:'var(--green)'},{l:'Home Trips',a:homeCost,c:'var(--coral)'},
    {l:'Extras',a:extras,c:'#F59E0B'},
  ];
  bars.innerHTML=items.map(it=>`
    <div style="margin-bottom:12px;">
      <div style="display:flex;justify-content:space-between;margin-bottom:5px;font-size:.87em;">
        <span class="muted">${it.l}</span>
        <strong style="color:${it.c};">${it.a} TND (${Math.round((it.a/total)*100)}%)</strong>
      </div>
      <div class="prog-track"><div class="prog-fill" style="width:${(it.a/total)*100}%;background:linear-gradient(90deg,${it.c},color-mix(in srgb,${it.c} 55%,transparent));"></div></div>
    </div>`).join('');
}

// â”€â”€ CHORES â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
let choresData = CHORES.map(c=>({...c}));
function renderChores(){
  const pts={You:0,Sara:0,Lina:0};
  choresData.forEach(c=>{if(c.done&&pts[c.assignee]!==undefined)pts[c.assignee]+=c.points;});
  const myC = choresData.filter(c=>c.assignee==='You');
  const myDone = myC.filter(c=>c.done).length;

  const ms=document.getElementById('ch-mine-stat'); if(ms) ms.textContent=`${myDone}/${myC.length}`;
  const cp=document.getElementById('ch-pts'); if(cp) cp.textContent=pts.You;

  const cl=document.getElementById('chore-list');
  if(cl) cl.innerHTML=choresData.map(c=>`
    <div class="chore-item${c.done?' done':''}">
      <div class="chore-check${c.assignee==='You'?' mine':''}${c.done?' checked':(c.assignee!=='You'&&c.done?' checked-other':'')}"
           onclick="${c.assignee==='You'?`toggleChore(${c.id})`:''}" style="${c.assignee!=='You'?'cursor:default;':''}" >
        ${c.done?`<svg width="12" height="12" fill="none" stroke="${c.assignee==='You'?'var(--bg)':'var(--accent)'}" stroke-width="2.5" viewBox="0 0 24 24"><polyline points="20,6 9,17 4,12"/></svg>`:''}
      </div>
      <span style="font-size:18px;">${c.icon}</span>
      <div style="flex:1;">
        <div style="font-weight:600;font-size:.88em;${c.done?'text-decoration:line-through;color:var(--muted);':''}">${c.name}</div>
        <div class="small muted">${c.freq}</div>
      </div>
      <div style="display:flex;align-items:center;gap:8px;">
        <div class="avatar" style="width:26px;height:26px;font-size:.68em;background:${c.assignee==='You'?'var(--violet)':c.assignee==='Sara'?'var(--accent)':'var(--amber)'};color:var(--bg);">${c.assignee==='You'?'YO':c.assignee[0]}</div>
        <span style="font-size:.78em;color:var(--amber);font-weight:600;">+${c.points}</span>
      </div>
    </div>`).join('');

  const ll=document.getElementById('chore-leader');
  const total=choresData.reduce((s,c)=>s+c.points,0);
  if(ll) ll.innerHTML=Object.entries(pts).sort((a,b)=>b[1]-a[1]).map(([name,p],i)=>`
    <div style="display:flex;align-items:center;gap:10px;margin-bottom:11px;">
      <div class="avatar" style="width:26px;height:26px;font-size:.72em;background:${i===0?'var(--amber)':i===1?'var(--muted)':'#b87333'};color:var(--bg);">${i+1}</div>
      <div style="flex:1;">
        <div style="display:flex;justify-content:space-between;margin-bottom:4px;font-size:.85em;"><span style="font-weight:600;">${name}</span><span style="color:var(--amber);font-weight:700;">${p}pts</span></div>
        <div class="prog-track"><div class="prog-fill" style="width:${total?((p/total)*100):0}%;"></div></div>
      </div>
    </div>`).join('');

  const an=document.getElementById('ch-ai-notes');
  if(an) an.innerHTML=['Fairness above 80% â€” great work!','Exam period Feb 20â€“25 detected.','You have 3 pending chores.'].map(n=>`<div style="margin-bottom:6px;">â€¢ ${n}</div>`).join('');
}

function toggleChore(id){
  const c=choresData.find(x=>x.id===id);
  if(c) c.done=!c.done;
  renderChores();
}

// â”€â”€ NOTIFICATIONS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function renderNotifications(){
  const nl=document.getElementById('notif-list');
  if(!nl) return;
  nl.innerHTML=NOTIFS.map(n=>`
    <div class="notif-item ${n.urgent?'urgent':'normal'}">
      <span style="font-size:22px;flex-shrink:0;">${n.icon}</span>
      <div style="flex:1;">
        <div style="display:flex;justify-content:space-between;align-items:flex-start;flex-wrap:wrap;gap:7px;">
          <h4 style="font-size:.95em;">${n.title}</h4>
          <div style="display:flex;gap:7px;align-items:center;">
            ${n.urgent?`<span class="badge badge-coral">Urgent</span>`:''}
            <span class="small muted">${n.time}</span>
          </div>
        </div>
        <p class="small muted" style="margin-top:4px;">${n.desc}</p>
      </div>
    </div>`).join('');
}

// â”€â”€ ONBOARDING â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function obStep(dir){
  const next = Math.max(1,Math.min(4,obCurrentStep+dir));
  if(next===obCurrentStep) { if(dir<0) goPage('home'); return; }
  document.getElementById(`ob-s${obCurrentStep}`).style.display='none';
  obCurrentStep=next;
  document.getElementById(`ob-s${obCurrentStep}`).style.display='block';

  // update circles
  for(let i=1;i<=4;i++){
    const sc=document.getElementById(`sc${i}`);
    const sl=document.getElementById(`sl${i}`);
    sc.classList.toggle('done',  i<obCurrentStep);
    sc.classList.toggle('active',i===obCurrentStep);
    if(sl) sl.classList.toggle('done',i<obCurrentStep);
    if(i<obCurrentStep) sc.innerHTML='âœ“'; 
    else if(i===1) sc.innerHTML='ğŸ‘¤';
    else if(i===2) sc.innerHTML='ğŸ¯';
    else if(i===3) sc.innerHTML='ğŸ ';
    else if(i===4) sc.innerHTML='ğŸ’°';
  }

  document.getElementById('ob-prog').style.width=(obCurrentStep/4*100)+'%';
  document.getElementById('ob-step-label').textContent=`Step ${obCurrentStep} of 4`;
  const backBtn=document.getElementById('ob-back-btn');
  const nextBtn=document.getElementById('ob-next-btn');
  if(backBtn) backBtn.innerHTML=obCurrentStep===1?'â† Home':'â† Back';
  if(nextBtn) nextBtn.innerHTML=obCurrentStep===4?'ğŸš€ Find Matches':'Next â†’';
  if(nextBtn && obCurrentStep===4) nextBtn.onclick=()=>goPage('listings');
}

function selectChoice(btn, group){ btn.closest('.choice-row').querySelectorAll('.choice-btn').forEach(b=>b.classList.remove('on')); btn.classList.add('on'); }
function selectChoiceV(btn, group){ btn.closest('.choice-row').querySelectorAll('.choice-btn').forEach(b=>b.classList.remove('on','on-v')); btn.classList.add('on-v'); }

function updateBudgetDisplay(){
  const mn=document.getElementById('ob-bmin')?.value||150;
  const mx=document.getElementById('ob-bmax')?.value||600;
  const d=document.getElementById('budget-display');
  if(d) d.textContent=`${mn} â€“ ${mx} TND/month`;
  const cr=document.getElementById('obc-rent');
  if(cr) cr.textContent=`~${Math.round((parseInt(mn)+parseInt(mx))/2)} TND`;
  const ct=document.getElementById('obc-total');
  if(ct) ct.textContent=`~${Math.round((parseInt(mn)+parseInt(mx))/2)+170} TND`;
}

// â”€â”€ HOBBY & FEATURE CHIPS INIT â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function initChips(){
  const hobbies=["ğŸ“š Reading","ğŸ’» Coding","ğŸ® Gaming","ğŸ³ Cooking","ğŸµ Music","ğŸ¨ Art","âš½ Sports","ğŸ§˜ Yoga","âœˆï¸ Travel","ğŸ“· Photography"];
  const features=["ğŸ”’ Verified","ğŸ“¶ Wifi","â„ï¸ A/C","ğŸš¿ Private Bath","ğŸš— Parking","ğŸŒ¿ Garden","ğŸ›— Elevator","ğŸ‹ï¸ Gym"];
  const hc=document.getElementById('hobby-chips');
  if(hc) hc.innerHTML=hobbies.map(h=>`<button class="hobby-chip" onclick="this.classList.toggle('on')">${h}</button>`).join('');
  const fc=document.getElementById('feature-chips');
  if(fc) fc.innerHTML=features.map(f=>`<button class="hobby-chip" onclick="this.classList.toggle('on')">${f}</button>`).join('');
}

// â”€â”€ INIT â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
(function init(){
  initChips();
  renderListings();
  applyTranslations();
  renderSettings();
  // Finance page initial render
  renderFinance();
})();
</script>
</body>
</html>
